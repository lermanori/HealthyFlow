var al=Object.defineProperty;var il=(e,t,r)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ot=(e,t,r)=>(il(e,typeof t!="symbol"?t+"":t,r),r);import{j as s,u as Nt,a as ra,b as ut,Q as sl,c as ol}from"./query-710939d6.js";import{b as Qi,r as y,a as Q,g as ll,c as cl}from"./vendor-66b0ef43.js";import{u as Zi,L as Ut,a as dl,R as ul,b as kt,N as pl,B as fl}from"./router-64fe0fcd.js";import{A as Le,m as B,a as Ha,X as Ze,S as Rn,D as ml,M as gl,B as le,b as re,L as hn,H as hl,P as na,C as et,c as Fr,d as es,R as Mn,e as Xt,Z as ts,f as vl,g as xl,T as yl,h as aa,i as bl,j as wl,k as Bn,l as rs,V as ia,n as ns,o as Nl,p as Sl,q as as,r as jl,s as Dl,t as Cl,u as Tl,v as El,w as Il,x as Al,y as Pl,U as kl,E as Ol,z as Rl,F as Ml,G as Bl,I as Ll,J as Fl,K as $l,N as Ul,W as Wl,O as Hl}from"./ui-582f3c59.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ln={},qa=Qi;Ln.createRoot=qa.createRoot,Ln.hydrateRoot=qa.hydrateRoot;let ql={data:""},Gl=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ql,zl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vl=/\/\*[^]*?\*\/|  +/g,Ga=/\n+/g,_e=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?_e(o,i):i+"{"+_e(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=_e(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=_e.p?_e.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ge={},is=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+is(e[r]);return t}return e},Yl=(e,t,r,n,a)=>{let i=is(e),o=Ge[i]||(Ge[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Ge[o]){let c=i!==e?e:(d=>{let u,p,f=[{}];for(;u=zl.exec(d.replace(Vl,""));)u[4]?f.shift():u[3]?(p=u[3].replace(Ga," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][u[1]]=u[2].replace(Ga," ").trim();return f[0]})(e);Ge[o]=_e(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Ge.g?Ge.g:null;return r&&(Ge.g=Ge[o]),((c,d,u,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ge[o],t,n,l),o},Kl=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_e(l,""):l===!1?"":l}return n+a+(o??"")},"");function $r(e){let t=this||{},r=e.call?e(t.p):e;return Yl(r.unshift?r.raw?Kl(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,Gl(t.target),t.g,t.o,t.k)}let ss,Fn,$n;$r.bind({g:1});let ze=$r.bind({k:1});function _l(e,t,r,n){_e.p=t,ss=e,Fn=r,$n=n}function rt(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:Fn&&Fn()},l),r.o=/ *go\d+/.test(c),l.className=$r.apply(r,n)+(c?" "+c:""),t&&(l.ref=o);let d=e;return e[0]&&(d=l.as||e,delete l.as),$n&&d[0]&&$n(l),ss(d,l)}return t?t(a):a}}var Jl=e=>typeof e=="function",Sr=(e,t)=>Jl(e)?e(t):e,Xl=(()=>{let e=0;return()=>(++e).toString()})(),os=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ql=20,ls=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Ql)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return ls(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},vr=[],pt={toasts:[],pausedAt:void 0},vt=e=>{pt=ls(pt,e),vr.forEach(t=>{t(pt)})},Zl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ec=(e={})=>{let[t,r]=y.useState(pt),n=y.useRef(pt);y.useEffect(()=>(n.current!==pt&&r(pt),vr.push(r),()=>{let i=vr.indexOf(r);i>-1&&vr.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Zl[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},tc=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Xl()}),Qt=e=>(t,r)=>{let n=tc(t,e,r);return vt({type:2,toast:n}),n.id},ye=(e,t)=>Qt("blank")(e,t);ye.error=Qt("error");ye.success=Qt("success");ye.loading=Qt("loading");ye.custom=Qt("custom");ye.dismiss=e=>{vt({type:3,toastId:e})};ye.remove=e=>vt({type:4,toastId:e});ye.promise=(e,t,r)=>{let n=ye.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?Sr(t.success,a):void 0;return i?ye.success(i,{id:n,...r,...r==null?void 0:r.success}):ye.dismiss(n),a}).catch(a=>{let i=t.error?Sr(t.error,a):void 0;i?ye.error(i,{id:n,...r,...r==null?void 0:r.error}):ye.dismiss(n)}),e};var rc=(e,t)=>{vt({type:1,toast:{id:e,height:t}})},nc=()=>{vt({type:5,time:Date.now()})},Wt=new Map,ac=1e3,ic=(e,t=ac)=>{if(Wt.has(e))return;let r=setTimeout(()=>{Wt.delete(e),vt({type:4,toastId:e})},t);Wt.set(e,r)},sc=e=>{let{toasts:t,pausedAt:r}=ec(e);y.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&ye.dismiss(l.id);return}return setTimeout(()=>ye.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=y.useCallback(()=>{r&&vt({type:6,time:Date.now()})},[r]),a=y.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=t.filter(m=>(m.position||d)===(i.position||d)&&m.height),p=u.findIndex(m=>m.id===i.id),f=u.filter((m,g)=>g<p&&m.visible).length;return u.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+c,0)},[t]);return y.useEffect(()=>{t.forEach(i=>{if(i.dismissed)ic(i.id,i.removeDelay);else{let o=Wt.get(i.id);o&&(clearTimeout(o),Wt.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:rc,startPause:nc,endPause:n,calculateOffset:a}}},oc=ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lc=ze`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cc=ze`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dc=rt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lc} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cc} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uc=ze`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pc=rt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uc} 1s linear infinite;
`,fc=ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mc=ze`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gc=rt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mc} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hc=rt("div")`
  position: absolute;
`,vc=rt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xc=ze`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yc=rt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xc} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bc=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?y.createElement(yc,null,t):t:r==="blank"?null:y.createElement(vc,null,y.createElement(pc,{...n}),r!=="loading"&&y.createElement(hc,null,r==="error"?y.createElement(dc,{...n}):y.createElement(gc,{...n})))},wc=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Nc=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Sc="0%{opacity:0;} 100%{opacity:1;}",jc="0%{opacity:1;} 100%{opacity:0;}",Dc=rt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Cc=rt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tc=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=os()?[Sc,jc]:[wc(r),Nc(r)];return{animation:t?`${ze(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ze(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ec=y.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Tc(e.position||t||"top-center",e.visible):{opacity:0},i=y.createElement(bc,{toast:e}),o=y.createElement(Cc,{...e.ariaProps},Sr(e.message,e));return y.createElement(Dc,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});_l(y.createElement);var Ic=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=y.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return y.createElement("div",{ref:i,className:t,style:r},a)},Ac=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:os()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},Pc=$r`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pr=16,kc=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=sc(r);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:pr,left:pr,right:pr,bottom:pr,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||t,p=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),f=Ac(u,p);return y.createElement(Ic,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Pc:"",style:f},d.type==="custom"?Sr(d.message,d):a?a(d):y.createElement(Ec,{toast:d,position:u}))}))},W=ye;function cs(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oc}=Object.prototype,{getPrototypeOf:sa}=Object,{iterator:Ur,toStringTag:ds}=Symbol,Wr=(e=>t=>{const r=Oc.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fe=e=>(e=e.toLowerCase(),t=>Wr(t)===e),Hr=e=>t=>typeof t===e,{isArray:Ct}=Array,Gt=Hr("undefined");function Rc(e){return e!==null&&!Gt(e)&&e.constructor!==null&&!Gt(e.constructor)&&Ne(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const us=Fe("ArrayBuffer");function Mc(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&us(e.buffer),t}const Bc=Hr("string"),Ne=Hr("function"),ps=Hr("number"),qr=e=>e!==null&&typeof e=="object",Lc=e=>e===!0||e===!1,xr=e=>{if(Wr(e)!=="object")return!1;const t=sa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ds in e)&&!(Ur in e)},Fc=Fe("Date"),$c=Fe("File"),Uc=Fe("Blob"),Wc=Fe("FileList"),Hc=e=>qr(e)&&Ne(e.pipe),qc=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ne(e.append)&&((t=Wr(e))==="formdata"||t==="object"&&Ne(e.toString)&&e.toString()==="[object FormData]"))},Gc=Fe("URLSearchParams"),[zc,Vc,Yc,Kc]=["ReadableStream","Request","Response","Headers"].map(Fe),_c=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zt(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ct(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function fs(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ft=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ms=e=>!Gt(e)&&e!==ft;function Un(){const{caseless:e}=ms(this)&&this||{},t={},r=(n,a)=>{const i=e&&fs(t,a)||a;xr(t[i])&&xr(n)?t[i]=Un(t[i],n):xr(n)?t[i]=Un({},n):Ct(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Zt(arguments[n],r);return t}const Jc=(e,t,r,{allOwnKeys:n}={})=>(Zt(t,(a,i)=>{r&&Ne(a)?e[i]=cs(a,r):e[i]=a},{allOwnKeys:n}),e),Xc=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qc=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Zc=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&sa(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ed=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},td=e=>{if(!e)return null;if(Ct(e))return e;let t=e.length;if(!ps(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},rd=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sa(Uint8Array)),nd=(e,t)=>{const n=(e&&e[Ur]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},ad=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},id=Fe("HTMLFormElement"),sd=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),za=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),od=Fe("RegExp"),gs=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Zt(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},ld=e=>{gs(e,(t,r)=>{if(Ne(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ne(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},cd=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Ct(e)?n(e):n(String(e).split(t)),r},dd=()=>{},ud=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pd(e){return!!(e&&Ne(e.append)&&e[ds]==="FormData"&&e[Ur])}const fd=e=>{const t=new Array(10),r=(n,a)=>{if(qr(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Ct(n)?[]:{};return Zt(n,(o,l)=>{const c=r(o,a+1);!Gt(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},md=Fe("AsyncFunction"),gd=e=>e&&(qr(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),hs=((e,t)=>e?setImmediate:t?((r,n)=>(ft.addEventListener("message",({source:a,data:i})=>{a===ft&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ft.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ne(ft.postMessage)),hd=typeof queueMicrotask<"u"?queueMicrotask.bind(ft):typeof process<"u"&&process.nextTick||hs,vd=e=>e!=null&&Ne(e[Ur]),N={isArray:Ct,isArrayBuffer:us,isBuffer:Rc,isFormData:qc,isArrayBufferView:Mc,isString:Bc,isNumber:ps,isBoolean:Lc,isObject:qr,isPlainObject:xr,isReadableStream:zc,isRequest:Vc,isResponse:Yc,isHeaders:Kc,isUndefined:Gt,isDate:Fc,isFile:$c,isBlob:Uc,isRegExp:od,isFunction:Ne,isStream:Hc,isURLSearchParams:Gc,isTypedArray:rd,isFileList:Wc,forEach:Zt,merge:Un,extend:Jc,trim:_c,stripBOM:Xc,inherits:Qc,toFlatObject:Zc,kindOf:Wr,kindOfTest:Fe,endsWith:ed,toArray:td,forEachEntry:nd,matchAll:ad,isHTMLForm:id,hasOwnProperty:za,hasOwnProp:za,reduceDescriptors:gs,freezeMethods:ld,toObjectSet:cd,toCamelCase:sd,noop:dd,toFiniteNumber:ud,findKey:fs,global:ft,isContextDefined:ms,isSpecCompliantForm:pd,toJSONObject:fd,isAsyncFn:md,isThenable:gd,setImmediate:hs,asap:hd,isIterable:vd};function $(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}N.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const vs=$.prototype,xs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xs[e]={value:e}});Object.defineProperties($,xs);Object.defineProperty(vs,"isAxiosError",{value:!0});$.from=(e,t,r,n,a,i)=>{const o=Object.create(vs);return N.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const xd=null;function Wn(e){return N.isPlainObject(e)||N.isArray(e)}function ys(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function Va(e,t,r){return e?e.concat(t).map(function(a,i){return a=ys(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function yd(e){return N.isArray(e)&&!e.some(Wn)}const bd=N.toFlatObject(N,{},null,function(t){return/^is[A-Z]/.test(t)});function Gr(e,t,r){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!N.isUndefined(v[h])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(N.isDate(g))return g.toISOString();if(N.isBoolean(g))return g.toString();if(!c&&N.isBlob(g))throw new $("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(g)||N.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,h,v){let x=g;if(g&&!v&&typeof g=="object"){if(N.endsWith(h,"{}"))h=n?h:h.slice(0,-2),g=JSON.stringify(g);else if(N.isArray(g)&&yd(g)||(N.isFileList(g)||N.endsWith(h,"[]"))&&(x=N.toArray(g)))return h=ys(h),x.forEach(function(j,C){!(N.isUndefined(j)||j===null)&&t.append(o===!0?Va([h],C,i):o===null?h:h+"[]",d(j))}),!1}return Wn(g)?!0:(t.append(Va(v,h,i),d(g)),!1)}const p=[],f=Object.assign(bd,{defaultVisitor:u,convertValue:d,isVisitable:Wn});function m(g,h){if(!N.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+h.join("."));p.push(g),N.forEach(g,function(x,w){(!(N.isUndefined(x)||x===null)&&a.call(t,x,N.isString(w)?w.trim():w,h,f))===!0&&m(x,h?h.concat(w):[w])}),p.pop()}}if(!N.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Ya(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function oa(e,t){this._pairs=[],e&&Gr(e,this,t)}const bs=oa.prototype;bs.append=function(t,r){this._pairs.push([t,r])};bs.toString=function(t){const r=t?function(n){return t.call(this,n,Ya)}:Ya;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function wd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ws(e,t,r){if(!t)return e;const n=r&&r.encode||wd;N.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=N.isURLSearchParams(t)?t.toString():new oa(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Nd{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ka=Nd,Ns={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sd=typeof URLSearchParams<"u"?URLSearchParams:oa,jd=typeof FormData<"u"?FormData:null,Dd=typeof Blob<"u"?Blob:null,Cd={isBrowser:!0,classes:{URLSearchParams:Sd,FormData:jd,Blob:Dd},protocols:["http","https","file","blob","url","data"]},la=typeof window<"u"&&typeof document<"u",Hn=typeof navigator=="object"&&navigator||void 0,Td=la&&(!Hn||["ReactNative","NativeScript","NS"].indexOf(Hn.product)<0),Ed=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Id=la&&window.location.href||"http://localhost",Ad=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:la,hasStandardBrowserEnv:Td,hasStandardBrowserWebWorkerEnv:Ed,navigator:Hn,origin:Id},Symbol.toStringTag,{value:"Module"})),ve={...Ad,...Cd};function Pd(e,t){return Gr(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return ve.isNode&&N.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function kd(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Od(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function Ss(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&N.isArray(a)?a.length:o,c?(N.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!N.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&N.isArray(a[o])&&(a[o]=Od(a[o])),!l)}if(N.isFormData(e)&&N.isFunction(e.entries)){const r={};return N.forEachEntry(e,(n,a)=>{t(kd(n),a,r,0)}),r}return null}function Rd(e,t,r){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ca={transitional:Ns,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=N.isObject(t);if(i&&N.isHTMLForm(t)&&(t=new FormData(t)),N.isFormData(t))return a?JSON.stringify(Ss(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t)||N.isReadableStream(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Pd(t,this.formSerializer).toString();if((l=N.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gr(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Rd(t)):t}],transformResponse:[function(t){const r=this.transitional||ca.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(N.isResponse(t)||N.isReadableStream(t))return t;if(t&&N.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?$.from(l,$.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],e=>{ca.headers[e]={}});const da=ca,Md=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bd=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Md[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_a=Symbol("internals");function Ot(e){return e&&String(e).trim().toLowerCase()}function yr(e){return e===!1||e==null?e:N.isArray(e)?e.map(yr):String(e)}function Ld(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Fd=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vn(e,t,r,n,a){if(N.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!N.isString(t)){if(N.isString(n))return t.indexOf(n)!==-1;if(N.isRegExp(n))return n.test(t)}}function $d(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ud(e,t){const r=N.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}class zr{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const u=Ot(c);if(!u)throw new Error("header name must be a non-empty string");const p=N.findKey(a,u);(!p||a[p]===void 0||d===!0||d===void 0&&a[p]!==!1)&&(a[p||c]=yr(l))}const o=(l,c)=>N.forEach(l,(d,u)=>i(d,u,c));if(N.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(N.isString(t)&&(t=t.trim())&&!Fd(t))o(Bd(t),r);else if(N.isObject(t)&&N.isIterable(t)){let l={},c,d;for(const u of t){if(!N.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?N.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Ot(t),t){const n=N.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Ld(a);if(N.isFunction(r))return r.call(this,a,n);if(N.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ot(t),t){const n=N.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||vn(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Ot(o),o){const l=N.findKey(n,o);l&&(!r||vn(n,n[l],l,r))&&(delete n[l],a=!0)}}return N.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||vn(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return N.forEach(this,(a,i)=>{const o=N.findKey(n,i);if(o){r[o]=yr(a),delete r[i];return}const l=t?$d(i):String(i).trim();l!==i&&delete r[i],r[l]=yr(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return N.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&N.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[_a]=this[_a]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ot(o);n[l]||(Ud(a,o),n[l]=!0)}return N.isArray(t)?t.forEach(i):i(t),this}}zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(zr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});N.freezeMethods(zr);const Be=zr;function xn(e,t){const r=this||da,n=t||r,a=Be.from(n.headers);let i=n.data;return N.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function js(e){return!!(e&&e.__CANCEL__)}function Tt(e,t,r){$.call(this,e??"canceled",$.ERR_CANCELED,t,r),this.name="CanceledError"}N.inherits(Tt,$,{__CANCEL__:!0});function Ds(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $("Request failed with status code "+r.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Wd(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Hd(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[a]=c,n[a]=d;let p=i,f=0;for(;p!==a;)f+=r[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function qd(e,t){let r=0,n=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=n?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-p)))},()=>a&&o(a)]}const jr=(e,t,r=3)=>{let n=0;const a=Hd(50,250);return qd(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),u=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},Ja=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Xa=e=>(...t)=>N.asap(()=>e(...t)),Gd=ve.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ve.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,zd=ve.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];N.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),N.isString(n)&&o.push("path="+n),N.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Vd(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yd(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cs(e,t,r){let n=!Vd(t);return e&&(n||r==!1)?Yd(e,t):t}const Qa=e=>e instanceof Be?{...e}:e;function mt(e,t){t=t||{};const r={};function n(d,u,p,f){return N.isPlainObject(d)&&N.isPlainObject(u)?N.merge.call({caseless:f},d,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function a(d,u,p,f){if(N.isUndefined(u)){if(!N.isUndefined(d))return n(void 0,d,p,f)}else return n(d,u,p,f)}function i(d,u){if(!N.isUndefined(u))return n(void 0,u)}function o(d,u){if(N.isUndefined(u)){if(!N.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,p){if(p in t)return n(d,u);if(p in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,p)=>a(Qa(d),Qa(u),p,!0)};return N.forEach(Object.keys(Object.assign({},e,t)),function(u){const p=c[u]||a,f=p(e[u],t[u],u);N.isUndefined(f)&&p!==l||(r[u]=f)}),r}const Ts=e=>{const t=mt({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Be.from(o),t.url=ws(Cs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(N.isFormData(r)){if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ve.hasStandardBrowserEnv&&(n&&N.isFunction(n)&&(n=n(t)),n||n!==!1&&Gd(t.url))){const d=a&&i&&zd.read(i);d&&o.set(a,d)}return t},Kd=typeof XMLHttpRequest<"u",_d=Kd&&function(e){return new Promise(function(r,n){const a=Ts(e);let i=a.data;const o=Be.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,p,f,m,g;function h(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const j=Be.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Ds(function(S){r(S),h()},function(S){n(S),h()},D),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new $("Request aborted",$.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new $("Network Error",$.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||Ns;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new $(C,D.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&N.forEach(o.toJSON(),function(C,D){v.setRequestHeader(D,C)}),N.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),d&&([f,g]=jr(d,!0),v.addEventListener("progress",f)),c&&v.upload&&([p,m]=jr(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=j=>{v&&(n(!j||j.type?new Tt(null,e,v):j),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const w=Wd(a.url);if(w&&ve.protocols.indexOf(w)===-1){n(new $("Unsupported protocol "+w+":",$.ERR_BAD_REQUEST,e));return}v.send(i||null)})},Jd=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof $?u:new Tt(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>N.asap(l),c}},Xd=Jd,Qd=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Zd=async function*(e,t){for await(const r of eu(e))yield*Qd(r,t)},eu=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Za=(e,t,r,n)=>{const a=Zd(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let p=u.byteLength;if(r){let f=i+=p;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Vr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Es=Vr&&typeof ReadableStream=="function",tu=Vr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Is=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ru=Es&&Is(()=>{let e=!1;const t=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ei=64*1024,qn=Es&&Is(()=>N.isReadableStream(new Response("").body)),Dr={stream:qn&&(e=>e.body)};Vr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dr[t]&&(Dr[t]=N.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new $(`Response type '${t}' is not supported`,$.ERR_NOT_SUPPORT,n)})})})(new Response);const nu=async e=>{if(e==null)return 0;if(N.isBlob(e))return e.size;if(N.isSpecCompliantForm(e))return(await new Request(ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(N.isArrayBufferView(e)||N.isArrayBuffer(e))return e.byteLength;if(N.isURLSearchParams(e)&&(e=e+""),N.isString(e))return(await tu(e)).byteLength},au=async(e,t)=>{const r=N.toFiniteNumber(e.getContentLength());return r??nu(t)},iu=Vr&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:p="same-origin",fetchOptions:f}=Ts(e);d=d?(d+"").toLowerCase():"text";let m=Xd([a,i&&i.toAbortSignal()],o),g;const h=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(c&&ru&&r!=="get"&&r!=="head"&&(v=await au(u,n))!==0){let D=new Request(t,{method:"POST",body:n,duplex:"half"}),b;if(N.isFormData(n)&&(b=D.headers.get("content-type"))&&u.setContentType(b),D.body){const[S,I]=Ja(v,jr(Xa(c)));n=Za(D.body,ei,S,I)}}N.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;g=new Request(t,{...f,signal:m,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:x?p:void 0});let w=await fetch(g,f);const j=qn&&(d==="stream"||d==="response");if(qn&&(l||j&&h)){const D={};["status","statusText","headers"].forEach(O=>{D[O]=w[O]});const b=N.toFiniteNumber(w.headers.get("content-length")),[S,I]=l&&Ja(b,jr(Xa(l),!0))||[];w=new Response(Za(w.body,ei,S,()=>{I&&I(),h&&h()}),D)}d=d||"text";let C=await Dr[N.findKey(Dr,d)||"text"](w,e);return!j&&h&&h(),await new Promise((D,b)=>{Ds(D,b,{data:C,headers:Be.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:g})})}catch(x){throw h&&h(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,e,g),{cause:x.cause||x}):$.from(x,x&&x.code,e,g)}}),Gn={http:xd,xhr:_d,fetch:iu};N.forEach(Gn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ti=e=>`- ${e}`,su=e=>N.isFunction(e)||e===null||e===!1,As={getAdapter:e=>{e=N.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!su(r)&&(n=Gn[(o=String(r)).toLowerCase()],n===void 0))throw new $(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ti).join(`
`):" "+ti(i[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Gn};function yn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tt(null,e)}function ri(e){return yn(e),e.headers=Be.from(e.headers),e.data=xn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),As.getAdapter(e.adapter||da.adapter)(e).then(function(n){return yn(e),n.data=xn.call(e,e.transformResponse,n),n.headers=Be.from(n.headers),n},function(n){return js(n)||(yn(e),n&&n.response&&(n.response.data=xn.call(e,e.transformResponse,n.response),n.response.headers=Be.from(n.response.headers))),Promise.reject(n)})}const Ps="1.10.0",Yr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ni={};Yr.transitional=function(t,r,n){function a(i,o){return"[Axios v"+Ps+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new $(a(o," has been removed"+(r?" in "+r:"")),$.ERR_DEPRECATED);return r&&!ni[o]&&(ni[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Yr.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ou(e,t,r){if(typeof e!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new $("option "+i+" must be "+c,$.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}}const br={assertOptions:ou,validators:Yr},Ue=br.validators;class Cr{constructor(t){this.defaults=t||{},this.interceptors={request:new Ka,response:new Ka}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mt(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&br.assertOptions(n,{silentJSONParsing:Ue.transitional(Ue.boolean),forcedJSONParsing:Ue.transitional(Ue.boolean),clarifyTimeoutError:Ue.transitional(Ue.boolean)},!1),a!=null&&(N.isFunction(a)?r.paramsSerializer={serialize:a}:br.assertOptions(a,{encode:Ue.function,serialize:Ue.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),br.assertOptions(r,{baseUrl:Ue.spelling("baseURL"),withXsrfToken:Ue.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[r.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Be.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const d=[];this.interceptors.response.forEach(function(h){d.push(h.fulfilled,h.rejected)});let u,p=0,f;if(!c){const g=[ri.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),f=g.length,u=Promise.resolve(r);p<f;)u=u.then(g[p++],g[p++]);return u}f=l.length;let m=r;for(p=0;p<f;){const g=l[p++],h=l[p++];try{m=g(m)}catch(v){h.call(this,v);break}}try{u=ri.call(this,m)}catch(g){return Promise.reject(g)}for(p=0,f=d.length;p<f;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=mt(this.defaults,t);const r=Cs(t.baseURL,t.url,t.allowAbsoluteUrls);return ws(r,t.params,t.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(r,n){return this.request(mt(n||{},{method:t,url:r,data:(n||{}).data}))}});N.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(mt(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cr.prototype[t]=r(),Cr.prototype[t+"Form"]=r(!0)});const wr=Cr;class ua{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Tt(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ua(function(a){t=a}),cancel:t}}}const lu=ua;function cu(e){return function(r){return e.apply(null,r)}}function du(e){return N.isObject(e)&&e.isAxiosError===!0}const zn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zn).forEach(([e,t])=>{zn[t]=e});const uu=zn;function ks(e){const t=new wr(e),r=cs(wr.prototype.request,t);return N.extend(r,wr.prototype,t,{allOwnKeys:!0}),N.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return ks(mt(e,a))},r}const ae=ks(da);ae.Axios=wr;ae.CanceledError=Tt;ae.CancelToken=lu;ae.isCancel=js;ae.VERSION=Ps;ae.toFormData=Gr;ae.AxiosError=$;ae.Cancel=ae.CanceledError;ae.all=function(t){return Promise.all(t)};ae.spread=cu;ae.isAxiosError=du;ae.mergeConfig=mt;ae.AxiosHeaders=Be;ae.formToJSON=e=>Ss(N.isHTMLForm(e)?new FormData(e):e);ae.getAdapter=As.getAdapter;ae.HttpStatusCode=uu;ae.default=ae;const pu=ae,fu="https://healthyflow-production.up.railway.app/api",fe=pu.create({baseURL:fu});fe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});fe.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.reload()),Promise.reject(e)});const ai={login:async(e,t)=>(await fe.post("/auth/login",{email:e,password:t})).data,verifyToken:async()=>(await fe.get("/auth/verify")).data},Re={getTasks:async e=>{console.log("API - getTasks called with date:",e);const t=await fe.get("/tasks",{params:{date:e}});return console.log("API - getTasks response:",t.data),t.data},addTask:async e=>(await fe.post("/tasks",e)).data,updateTask:async(e,t)=>(await fe.put(`/tasks/${e}`,t)).data,completeTask:async e=>(await fe.post(`/tasks/complete/${e}`)).data,deleteTask:async e=>{await fe.delete(`/tasks/${e}`)}},mu={getWeeklySummary:async()=>(await fe.get("/week-summary")).data},gu={getRecommendations:async()=>(await fe.post("/ai/recommend")).data,getPersonalizedTips:async()=>(await fe.get("/ai/tips")).data,getMotivationalMessage:async()=>(await fe.get("/ai/motivation")).data,getOpenAIRecommendations:async e=>{const t=localStorage.getItem("openai_api_key");if(!t)throw new Error("OpenAI API key not configured");return(await fe.post("/ai/openai-recommendations",{taskHistory:e,apiKey:t})).data}},Os=y.createContext(void 0);function hu({children:e}){const[t,r]=y.useState(null),[n,a]=y.useState(!0);y.useEffect(()=>{localStorage.getItem("token")?ai.verifyToken().then(c=>{r(c)}).catch(()=>{localStorage.removeItem("token")}).finally(()=>{a(!1)}):a(!1)},[]);const i=async(l,c)=>{try{const{user:d,token:u}=await ai.login(l,c);localStorage.setItem("token",u),r(d),W.success("Welcome back!")}catch(d){throw W.error("Invalid credentials"),d}},o=()=>{localStorage.removeItem("token"),r(null),W.success("Logged out successfully")};return s.jsx(Os.Provider,{value:{user:t,loading:n,login:i,logout:o},children:e})}function Kr(){const e=y.useContext(Os);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function vu(){const[e,t]=y.useState(null),[r,n]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(!1);y.useEffect(()=>{const m=/iPad|iPhone|iPod/.test(navigator.userAgent);l(m);const g=window.matchMedia("(display-mode: standalone)").matches,h=window.navigator.standalone===!0,v=g||h;if(d(v),i(v),v)return;const x=j=>{j.preventDefault(),t(j);const C=localStorage.getItem("pwa-prompt-dismissed"),D=Date.now()-24*60*60*1e3;(!C||parseInt(C)<D)&&setTimeout(()=>{n(!0)},3e3)},w=()=>{i(!0),n(!1),t(null),localStorage.removeItem("pwa-prompt-dismissed")};if(window.addEventListener("beforeinstallprompt",x),window.addEventListener("appinstalled",w),m&&!v){const j=localStorage.getItem("ios-install-dismissed"),C=Date.now()-24*60*60*1e3;(!j||parseInt(j)<C)&&setTimeout(()=>{n(!0)},5e3)}return()=>{window.removeEventListener("beforeinstallprompt",x),window.removeEventListener("appinstalled",w)}},[]);const u=async()=>{if(e)try{await e.prompt(),(await e.userChoice).outcome==="accepted"&&console.log("User accepted the install prompt"),t(null),n(!1)}catch(m){console.error("Install prompt failed:",m)}},p=()=>{n(!1);const m=Date.now().toString();o?localStorage.setItem("ios-install-dismissed",m):localStorage.setItem("pwa-prompt-dismissed",m)};if(a||c)return null;const f=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ha,{className:"w-6 h-6 text-gray-300"}),s.jsx("h3",{className:"font-semibold text-gray-100",children:"Install HealthyFlow on iOS"})]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),s.jsxs("p",{children:["Tap the ",s.jsx("strong",{children:"Share"})," button in Safari (bottom of screen)"]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),s.jsxs("p",{children:["Scroll down and tap ",s.jsx("strong",{children:'"Add to Home Screen"'})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),s.jsxs("p",{children:["Tap ",s.jsx("strong",{children:'"Add"'})," to install HealthyFlow"]})]})]}),s.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-3",children:s.jsx("p",{className:"text-xs text-cyan-300",children:"💡 Once installed, HealthyFlow will work offline and feel like a native app!"})})]});return s.jsxs(Le,{children:[r&&s.jsx(B.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg",children:s.jsx("div",{className:"max-w-md mx-auto p-4",children:o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ha,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium text-sm",children:"Install on iOS"})]}),s.jsx("button",{onClick:p,className:"p-1 hover:bg-white/20 rounded transition-colors",children:s.jsx(Ze,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-xs opacity-90",children:["Tap ",s.jsx("strong",{children:"Share"})," → ",s.jsx("strong",{children:"Add to Home Screen"})," for the best experience"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(Rn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Install HealthyFlow"}),s.jsx("p",{className:"text-xs opacity-90",children:"Works offline • Push notifications"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:u,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1",children:[s.jsx(ml,{className:"w-3 h-3"}),s.jsx("span",{children:"Install"})]}),s.jsx("button",{onClick:p,className:"p-1 hover:bg-white/20 rounded transition-colors",children:s.jsx(Ze,{className:"w-4 h-4"})})]})]})})}),o&&r&&s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:p,children:s.jsxs(B.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-900 rounded-2xl p-6 max-w-sm w-full border border-gray-700",onClick:m=>m.stopPropagation(),children:[s.jsx(f,{}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:p,className:"px-4 py-2 text-gray-400 hover:text-gray-200 transition-colors",children:"Maybe Later"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors",children:"Got It"})]})]})})]})}function xu({children:e}){var p;const t=Zi(),{user:r,logout:n}=Kr(),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=y.useRef(null);y.useEffect(()=>{const f=()=>{l(window.innerWidth<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),y.useEffect(()=>{i(!1)},[t.pathname]),y.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);const d=[{name:"Dashboard",href:"/",icon:hl},{name:"Add Item",href:"/add",icon:na},{name:"Week View",href:"/week",icon:et},{name:"Settings",href:"/settings",icon:Fr}],u=()=>{var f;return s.jsx(Le,{children:a&&s.jsxs(s.Fragment,{children:[s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx(B.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 h-full w-80 max-w-[85vw] bg-gray-900/95 backdrop-blur-xl border-r border-gray-700/50 z-50 lg:hidden",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl animate-float",children:s.jsx(le,{className:"w-6 h-6 text-white"})}),s.jsx(re,{className:"absolute -top-1 -right-1 w-4 h-4 text-cyan-400 animate-neon-flicker"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-100 neon-text",children:"HealthyFlow"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"AI-Powered Planner"})]})]}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-lg hover:bg-gray-800/50 transition-colors text-gray-400 hover:text-gray-200",children:s.jsx(Ze,{className:"w-6 h-6"})})]}),s.jsxs("nav",{className:"flex-1 p-6",children:[s.jsx("ul",{className:"space-y-2",children:d.map(m=>{const g=t.pathname===m.href;return s.jsx("li",{children:s.jsxs(Ut,{to:m.href,className:`flex items-center space-x-3 px-4 py-4 rounded-xl transition-all duration-300 group ${g?"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 text-cyan-400 border border-cyan-500/30 shadow-lg shadow-cyan-500/20":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200 hover:border-gray-600/50 border border-transparent"}`,children:[s.jsx(m.icon,{className:`w-6 h-6 transition-all duration-300 ${g?"text-cyan-400":"group-hover:text-gray-200"}`}),s.jsx("span",{className:"font-medium text-lg",children:m.name}),g&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-cyan-400 rounded-full animate-pulse"})]})},m.name)})}),s.jsxs("div",{className:"mt-8 p-4 rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(le,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-purple-400",children:"AI Assistant"}),s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Ready to analyze your tasks and provide intelligent suggestions"})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:(f=r==null?void 0:r.name)==null?void 0:f.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-200",children:r==null?void 0:r.name}),s.jsx("p",{className:"text-xs text-gray-400",children:r==null?void 0:r.email})]})]}),s.jsxs("button",{onClick:n,className:"flex items-center space-x-2 w-full text-gray-400 hover:text-gray-200 transition-colors p-3 rounded-lg hover:bg-gray-800/50",children:[s.jsx(hn,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})})]})})};return s.jsxs("div",{className:"min-h-screen bg-gray-900",children:[s.jsx(vu,{}),s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-2000"})]}),o&&s.jsx("header",{className:"relative z-10 glass-effect border-b border-gray-700/50 lg:hidden",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-lg hover:bg-gray-800/50 transition-colors text-gray-400 hover:text-gray-200",children:s.jsx(gl,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg animate-float",children:s.jsx(le,{className:"w-4 h-4 text-white"})}),s.jsx(re,{className:"absolute -top-1 -right-1 w-3 h-3 text-cyan-400 animate-neon-flicker"})]}),s.jsx("h1",{className:"text-lg font-bold text-gray-100 neon-text",children:"HealthyFlow"})]}),s.jsx("button",{onClick:()=>i(!0),className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:(p=r==null?void 0:r.name)==null?void 0:p.charAt(0).toUpperCase()})})]})}),!o&&s.jsx("header",{className:"relative z-10 glass-effect border-b border-gray-700/50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl animate-float",children:s.jsx(le,{className:"w-6 h-6 text-white"})}),s.jsx(re,{className:"absolute -top-1 -right-1 w-4 h-4 text-cyan-400 animate-neon-flicker"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-100 neon-text",children:"HealthyFlow"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"AI-Powered Future Planner"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Welcome back,"}),s.jsx("p",{className:"text-sm font-medium text-cyan-400",children:r==null?void 0:r.name})]}),s.jsxs("button",{onClick:n,className:"flex items-center space-x-2 text-gray-400 hover:text-gray-200 transition-colors p-2 rounded-lg hover:bg-gray-800/50",children:[s.jsx(hn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})})}),s.jsxs("div",{className:"flex relative z-10",children:[!o&&s.jsx("nav",{className:"w-64 glass-effect min-h-screen border-r border-gray-700/50",children:s.jsxs("div",{className:"p-4",children:[s.jsx("ul",{className:"space-y-2",children:d.map(f=>{const m=t.pathname===f.href;return s.jsx("li",{children:s.jsxs(Ut,{to:f.href,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 group ${m?"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 text-cyan-400 border border-cyan-500/30 shadow-lg shadow-cyan-500/20":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200 hover:border-gray-600/50 border border-transparent"}`,children:[s.jsx(f.icon,{className:`w-5 h-5 transition-all duration-300 ${m?"text-cyan-400":"group-hover:text-gray-200"}`}),s.jsx("span",{className:"font-medium",children:f.name}),m&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-cyan-400 rounded-full animate-pulse"})]})},f.name)})}),s.jsxs("div",{className:"mt-8 p-4 rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(le,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-purple-400",children:"AI Assistant"}),s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Ready to analyze your tasks and provide intelligent suggestions"})]})]})}),s.jsx(u,{}),s.jsx("main",{className:`flex-1 ${o?"p-4":"p-6"}`,ref:c,children:s.jsx("div",{className:`${o?"max-w-full":"max-w-6xl"} mx-auto`,children:e})})]}),o&&s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-xl border-t border-gray-700/50 z-30",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-1 p-2",children:[d.map(f=>{const m=t.pathname===f.href;return s.jsxs(Ut,{to:f.href,className:`flex flex-col items-center space-y-1 p-3 rounded-xl transition-all duration-300 ${m?"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 text-cyan-400":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}`,children:[s.jsx(f.icon,{className:`w-5 h-5 ${m?"text-cyan-400":""}`}),s.jsx("span",{className:"text-xs font-medium",children:f.name}),m&&s.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full"})]},f.name)}),s.jsxs("button",{onClick:n,className:"flex flex-col items-center space-y-1 p-3 rounded-xl transition-all duration-300 text-gray-400 hover:text-gray-200 hover:bg-gray-800/50",children:[s.jsx(hn,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-medium",children:"Logout"})]})]}),s.jsx("div",{className:"h-safe-area-inset-bottom"})]})]})}function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function We(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ee(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ce(e){ee(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Z(e,t){ee(2,arguments);var r=Ce(e),n=We(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function yu(e,t){ee(2,arguments);var r=Ce(e).getTime(),n=We(t);return new Date(r+n)}var bu={};function er(){return bu}function wu(e,t){var r,n,a,i,o,l,c,d;ee(1,arguments);var u=er(),p=We((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ce(e),m=f.getDay(),g=(m<p?7:0)+m-p;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function Nu(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ii(e){ee(1,arguments);var t=Ce(e);return t.setHours(0,0,0,0),t}function zt(e,t){ee(2,arguments);var r=ii(e),n=ii(t);return r.getTime()===n.getTime()}function Su(e){return ee(1,arguments),e instanceof Date||gt(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ju(e){if(ee(1,arguments),!Su(e)&&typeof e!="number")return!1;var t=Ce(e);return!isNaN(Number(t))}function Du(e,t){ee(2,arguments);var r=We(t);return yu(e,-r)}var Cu=864e5;function Tu(e){ee(1,arguments);var t=Ce(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Cu)+1}function Tr(e){ee(1,arguments);var t=1,r=Ce(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Rs(e){ee(1,arguments);var t=Ce(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Tr(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Tr(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Eu(e){ee(1,arguments);var t=Rs(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Tr(r);return n}var Iu=6048e5;function Au(e){ee(1,arguments);var t=Ce(e),r=Tr(t).getTime()-Eu(t).getTime();return Math.round(r/Iu)+1}function Er(e,t){var r,n,a,i,o,l,c,d;ee(1,arguments);var u=er(),p=We((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ce(e),m=f.getUTCDay(),g=(m<p?7:0)+m-p;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Ms(e,t){var r,n,a,i,o,l,c,d;ee(1,arguments);var u=Ce(e),p=u.getUTCFullYear(),f=er(),m=We((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(p+1,0,m),g.setUTCHours(0,0,0,0);var h=Er(g,t),v=new Date(0);v.setUTCFullYear(p,0,m),v.setUTCHours(0,0,0,0);var x=Er(v,t);return u.getTime()>=h.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function Pu(e,t){var r,n,a,i,o,l,c,d;ee(1,arguments);var u=er(),p=We((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=Ms(e,t),m=new Date(0);m.setUTCFullYear(f,0,p),m.setUTCHours(0,0,0,0);var g=Er(m,t);return g}var ku=6048e5;function Ou(e,t){ee(1,arguments);var r=Ce(e),n=Er(r,t).getTime()-Pu(r,t).getTime();return Math.round(n/ku)+1}function V(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ru={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return V(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):V(n+1,2)},d:function(t,r){return V(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return V(t.getUTCHours()%12||12,r.length)},H:function(t,r){return V(t.getUTCHours(),r.length)},m:function(t,r){return V(t.getUTCMinutes(),r.length)},s:function(t,r){return V(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return V(i,r.length)}};const Ye=Ru;var yt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mu={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Ye.y(t,r)},Y:function(t,r,n,a){var i=Ms(t,a),o=i>0?i:1-i;if(r==="YY"){var l=o%100;return V(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):V(o,r.length)},R:function(t,r){var n=Rs(t);return V(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return V(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return V(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return V(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ye.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return V(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Ou(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):V(i,r.length)},I:function(t,r,n){var a=Au(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):V(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ye.d(t,r)},D:function(t,r,n){var a=Tu(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):V(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return V(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return V(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return V(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=yt.noon:a===0?i=yt.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=yt.evening:a>=12?i=yt.afternoon:a>=4?i=yt.morning:i=yt.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ye.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ye.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):V(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):V(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ye.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ye.s(t,r)},S:function(t,r){return Ye.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return oi(o);case"XXXX":case"XX":return ct(o);case"XXXXX":case"XXX":default:return ct(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return oi(o);case"xxxx":case"xx":return ct(o);case"xxxxx":case"xxx":default:return ct(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+si(o,":");case"OOOO":default:return"GMT"+ct(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+si(o,":");case"zzzz":default:return"GMT"+ct(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return V(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return V(o,r.length)}};function si(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t||"";return r+String(a)+o+V(i,2)}function oi(e,t){if(e%60===0){var r=e>0?"-":"+";return r+V(Math.abs(e)/60,2)}return ct(e,t)}function ct(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=V(Math.floor(a/60),2),o=V(a%60,2);return n+i+r+o}const Bu=Mu;var li=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Bs=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Lu=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return li(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",li(a,r)).replace("{{time}}",Bs(i,r))},Fu={p:Bs,P:Lu};const $u=Fu;var Uu=["D","DD"],Wu=["YY","YYYY"];function Hu(e){return Uu.indexOf(e)!==-1}function qu(e){return Wu.indexOf(e)!==-1}function ci(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Gu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zu=function(t,r,n){var a,i=Gu[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Vu=zu;function bn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Yu={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ku={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_u={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ju={date:bn({formats:Yu,defaultWidth:"full"}),time:bn({formats:Ku,defaultWidth:"full"}),dateTime:bn({formats:_u,defaultWidth:"full"})};const Xu=Ju;var Qu={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zu=function(t,r,n,a){return Qu[t]};const ep=Zu;function Rt(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var tp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},np={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ap={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ip={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},op=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lp={ordinalNumber:op,era:Rt({values:tp,defaultWidth:"wide"}),quarter:Rt({values:rp,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Rt({values:np,defaultWidth:"wide"}),day:Rt({values:ap,defaultWidth:"wide"}),dayPeriod:Rt({values:ip,defaultWidth:"wide",formattingValues:sp,defaultFormattingWidth:"wide"})};const cp=lp;function Mt(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?up(l,function(p){return p.test(o)}):dp(l,function(p){return p.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function dp(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function up(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function pp(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var fp=/^(\d+)(th|st|nd|rd)?/i,mp=/\d+/i,gp={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hp={any:[/^b/i,/^(a|c)/i]},vp={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xp={any:[/1/i,/2/i,/3/i,/4/i]},yp={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bp={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wp={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Np={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sp={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jp={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dp={ordinalNumber:pp({matchPattern:fp,parsePattern:mp,valueCallback:function(t){return parseInt(t,10)}}),era:Mt({matchPatterns:gp,defaultMatchWidth:"wide",parsePatterns:hp,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:vp,defaultMatchWidth:"wide",parsePatterns:xp,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Mt({matchPatterns:yp,defaultMatchWidth:"wide",parsePatterns:bp,defaultParseWidth:"any"}),day:Mt({matchPatterns:wp,defaultMatchWidth:"wide",parsePatterns:Np,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:Sp,defaultMatchWidth:"any",parsePatterns:jp,defaultParseWidth:"any"})};const Cp=Dp;var Tp={code:"en-US",formatDistance:Vu,formatLong:Xu,formatRelative:ep,localize:cp,match:Cp,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ep=Tp;var Ip=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ap=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pp=/^'([^]*?)'?$/,kp=/''/g,Op=/[a-zA-Z]/;function R(e,t,r){var n,a,i,o,l,c,d,u,p,f,m,g,h,v,x,w,j,C;ee(2,arguments);var D=String(t),b=er(),S=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:Ep,I=We((i=(o=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:b.firstWeekContainsDate)!==null&&o!==void 0?o:(p=b.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=We((m=(g=(h=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&h!==void 0?h:b.weekStartsOn)!==null&&g!==void 0?g:(j=b.locale)===null||j===void 0||(C=j.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var F=Ce(e);if(!ju(F))throw new RangeError("Invalid time value");var U=Nu(F),ne=Du(F,U),se={firstWeekContainsDate:I,weekStartsOn:O,locale:S,_originalDate:F},_=D.match(Ap).map(function(z){var X=z[0];if(X==="p"||X==="P"){var ge=$u[X];return ge(z,S.formatLong)}return z}).join("").match(Ip).map(function(z){if(z==="''")return"'";var X=z[0];if(X==="'")return Rp(z);var ge=Bu[X];if(ge)return!(r!=null&&r.useAdditionalWeekYearTokens)&&qu(z)&&ci(z,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Hu(z)&&ci(z,t,String(e)),ge(ne,z,S.localize,se);if(X.match(Op))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return z}).join("");return _}function Rp(e){var t=e.match(Pp);return t?t[1].replace(kp,"'"):e}function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vn(e,t)}function Mp(e,t){if(gt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bp(e){var t=Mp(e,"string");return gt(t)=="symbol"?t:t+""}function Lp(e,t,r){return(t=Bp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fp(e){return ee(1,arguments),zt(e,Date.now())}function $p(e){return ee(1,arguments),zt(e,Z(Date.now(),1))}function Ls(e,t){ee(2,arguments);var r=We(t);return Z(e,-r)}function Up(e){return ee(1,arguments),zt(e,Ls(Date.now(),1))}function Fs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vn(e,t)}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(null,arguments)}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(n){Lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var pi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wn=function(){return Math.random().toString(36).substring(7).split("").join(".")},fi={INIT:"@@redux/INIT"+wn(),REPLACE:"@@redux/REPLACE"+wn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wn()}};function Wp(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $s(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(we(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(we(1));return r($s)(e,t)}if(typeof e!="function")throw new Error(we(2));var a=e,i=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(we(3));return i}function p(h){if(typeof h!="function")throw new Error(we(4));if(c)throw new Error(we(5));var v=!0;return d(),l.push(h),function(){if(v){if(c)throw new Error(we(6));v=!1,d();var w=l.indexOf(h);l.splice(w,1),o=null}}}function f(h){if(!Wp(h))throw new Error(we(7));if(typeof h.type>"u")throw new Error(we(8));if(c)throw new Error(we(9));try{c=!0,i=a(i,h)}finally{c=!1}for(var v=o=l,x=0;x<v.length;x++){var w=v[x];w()}return h}function m(h){if(typeof h!="function")throw new Error(we(10));a=h,f({type:fi.REPLACE})}function g(){var h,v=p;return h={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(we(11));function j(){w.next&&w.next(u())}j();var C=v(j);return{unsubscribe:C}}},h[pi]=function(){return this},h}return f({type:fi.INIT}),n={dispatch:f,subscribe:p,getState:u,replaceReducer:m},n[pi]=g,n}function mi(e,t){return function(){return t(e.apply(this,arguments))}}function gi(e,t){if(typeof e=="function")return mi(e,t);if(typeof e!="object"||e===null)throw new Error(we(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=mi(a,t))}return r}function Us(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function Hp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(we(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=Us.apply(void 0,l)(a.dispatch),ui(ui({},a),{},{dispatch:i})}}}var Ws=Q.createContext(null);function qp(e){e()}var Hs=qp,Gp=function(t){return Hs=t},zp=function(){return Hs};function Vp(){var e=zp(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var hi={notify:function(){},get:function(){return[]}};function qs(e,t){var r,n=hi;function a(p){return c(),n.subscribe(p)}function i(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=Vp())}function d(){r&&(r(),r=void 0,n.clear(),n=hi)}var u={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return u}var Gs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect;function Yp(e){var t=e.store,r=e.context,n=e.children,a=y.useMemo(function(){var l=qs(t);return{store:t,subscription:l}},[t]),i=y.useMemo(function(){return t.getState()},[t]);Gs(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=r||Ws;return Q.createElement(o.Provider,{value:a},n)}function Ir(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zs={exports:{}},Y={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue=typeof Symbol=="function"&&Symbol.for,pa=ue?Symbol.for("react.element"):60103,fa=ue?Symbol.for("react.portal"):60106,_r=ue?Symbol.for("react.fragment"):60107,Jr=ue?Symbol.for("react.strict_mode"):60108,Xr=ue?Symbol.for("react.profiler"):60114,Qr=ue?Symbol.for("react.provider"):60109,Zr=ue?Symbol.for("react.context"):60110,ma=ue?Symbol.for("react.async_mode"):60111,en=ue?Symbol.for("react.concurrent_mode"):60111,tn=ue?Symbol.for("react.forward_ref"):60112,rn=ue?Symbol.for("react.suspense"):60113,Kp=ue?Symbol.for("react.suspense_list"):60120,nn=ue?Symbol.for("react.memo"):60115,an=ue?Symbol.for("react.lazy"):60116,_p=ue?Symbol.for("react.block"):60121,Jp=ue?Symbol.for("react.fundamental"):60117,Xp=ue?Symbol.for("react.responder"):60118,Qp=ue?Symbol.for("react.scope"):60119;function Te(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pa:switch(e=e.type,e){case ma:case en:case _r:case Xr:case Jr:case rn:return e;default:switch(e=e&&e.$$typeof,e){case Zr:case tn:case an:case nn:case Qr:return e;default:return t}}case fa:return t}}}function Vs(e){return Te(e)===en}Y.AsyncMode=ma;Y.ConcurrentMode=en;Y.ContextConsumer=Zr;Y.ContextProvider=Qr;Y.Element=pa;Y.ForwardRef=tn;Y.Fragment=_r;Y.Lazy=an;Y.Memo=nn;Y.Portal=fa;Y.Profiler=Xr;Y.StrictMode=Jr;Y.Suspense=rn;Y.isAsyncMode=function(e){return Vs(e)||Te(e)===ma};Y.isConcurrentMode=Vs;Y.isContextConsumer=function(e){return Te(e)===Zr};Y.isContextProvider=function(e){return Te(e)===Qr};Y.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pa};Y.isForwardRef=function(e){return Te(e)===tn};Y.isFragment=function(e){return Te(e)===_r};Y.isLazy=function(e){return Te(e)===an};Y.isMemo=function(e){return Te(e)===nn};Y.isPortal=function(e){return Te(e)===fa};Y.isProfiler=function(e){return Te(e)===Xr};Y.isStrictMode=function(e){return Te(e)===Jr};Y.isSuspense=function(e){return Te(e)===rn};Y.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_r||e===en||e===Xr||e===Jr||e===rn||e===Kp||typeof e=="object"&&e!==null&&(e.$$typeof===an||e.$$typeof===nn||e.$$typeof===Qr||e.$$typeof===Zr||e.$$typeof===tn||e.$$typeof===Jp||e.$$typeof===Xp||e.$$typeof===Qp||e.$$typeof===_p)};Y.typeOf=Te;zs.exports=Y;var Zp=zs.exports,ga=Zp,ef={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tf={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rf={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ys={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ha={};ha[ga.ForwardRef]=rf;ha[ga.Memo]=Ys;function vi(e){return ga.isMemo(e)?Ys:ha[e.$$typeof]||ef}var nf=Object.defineProperty,af=Object.getOwnPropertyNames,xi=Object.getOwnPropertySymbols,sf=Object.getOwnPropertyDescriptor,of=Object.getPrototypeOf,yi=Object.prototype;function Ks(e,t,r){if(typeof t!="string"){if(yi){var n=of(t);n&&n!==yi&&Ks(e,n,r)}var a=af(t);xi&&(a=a.concat(xi(t)));for(var i=vi(e),o=vi(t),l=0;l<a.length;++l){var c=a[l];if(!tf[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=sf(t,c);try{nf(e,c,d)}catch{}}}}return e}var lf=Ks;const bi=ll(lf);var _s={exports:{}},J={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=60103,on=60106,tr=60107,rr=60108,nr=60114,ar=60109,ir=60110,sr=60112,or=60113,va=60120,lr=60115,cr=60116,Js=60121,Xs=60122,Qs=60117,Zs=60129,eo=60131;if(typeof Symbol=="function"&&Symbol.for){var pe=Symbol.for;sn=pe("react.element"),on=pe("react.portal"),tr=pe("react.fragment"),rr=pe("react.strict_mode"),nr=pe("react.profiler"),ar=pe("react.provider"),ir=pe("react.context"),sr=pe("react.forward_ref"),or=pe("react.suspense"),va=pe("react.suspense_list"),lr=pe("react.memo"),cr=pe("react.lazy"),Js=pe("react.block"),Xs=pe("react.server.block"),Qs=pe("react.fundamental"),Zs=pe("react.debug_trace_mode"),eo=pe("react.legacy_hidden")}function $e(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sn:switch(e=e.type,e){case tr:case nr:case rr:case or:case va:return e;default:switch(e=e&&e.$$typeof,e){case ir:case sr:case cr:case lr:case ar:return e;default:return t}}case on:return t}}}var cf=ar,df=sn,uf=sr,pf=tr,ff=cr,mf=lr,gf=on,hf=nr,vf=rr,xf=or;J.ContextConsumer=ir;J.ContextProvider=cf;J.Element=df;J.ForwardRef=uf;J.Fragment=pf;J.Lazy=ff;J.Memo=mf;J.Portal=gf;J.Profiler=hf;J.StrictMode=vf;J.Suspense=xf;J.isAsyncMode=function(){return!1};J.isConcurrentMode=function(){return!1};J.isContextConsumer=function(e){return $e(e)===ir};J.isContextProvider=function(e){return $e(e)===ar};J.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sn};J.isForwardRef=function(e){return $e(e)===sr};J.isFragment=function(e){return $e(e)===tr};J.isLazy=function(e){return $e(e)===cr};J.isMemo=function(e){return $e(e)===lr};J.isPortal=function(e){return $e(e)===on};J.isProfiler=function(e){return $e(e)===nr};J.isStrictMode=function(e){return $e(e)===rr};J.isSuspense=function(e){return $e(e)===or};J.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tr||e===nr||e===Zs||e===rr||e===or||e===va||e===eo||typeof e=="object"&&e!==null&&(e.$$typeof===cr||e.$$typeof===lr||e.$$typeof===ar||e.$$typeof===ir||e.$$typeof===sr||e.$$typeof===Qs||e.$$typeof===Js||e[0]===Xs)};J.typeOf=$e;_s.exports=J;var yf=_s.exports,bf=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],wf=["reactReduxForwardedRef"],Nf=[],Sf=[null,null];function jf(e,t){var r=e[1];return[t.payload,r+1]}function wi(e,t,r){Gs(function(){return e.apply(void 0,t)},r)}function Df(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function Cf(e,t,r,n,a,i,o,l,c,d){if(e){var u=!1,p=null,f=function(){if(!u){var h=t.getState(),v,x;try{v=n(h,a.current)}catch(w){x=w,p=w}x||(p=null),v===i.current?o.current||c():(i.current=v,l.current=v,o.current=!0,d({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=f,r.trySubscribe(),f();var m=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p};return m}}var Tf=function(){return[null,0]};function Ef(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(j){return"ConnectAdvanced("+j+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,d=r.shouldHandleStateChanges,u=d===void 0?!0:d,p=r.storeKey,f=p===void 0?"store":p;r.withRef;var m=r.forwardRef,g=m===void 0?!1:m,h=r.context,v=h===void 0?Ws:h,x=Ir(r,bf),w=v;return function(C){var D=C.displayName||C.name||"Component",b=a(D),S=L({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:f,displayName:b,wrappedComponentName:D,WrappedComponent:C}),I=x.pure;function O(_){return e(_.dispatch,S)}var F=I?y.useMemo:function(_){return _()};function U(_){var z=y.useMemo(function(){var st=_.reactReduxForwardedRef,gn=Ir(_,wf);return[_.context,st,gn]},[_]),X=z[0],ge=z[1],Ee=z[2],Ie=y.useMemo(function(){return X&&X.Consumer&&yf.isContextConsumer(Q.createElement(X.Consumer,null))?X:w},[X,w]),A=y.useContext(Ie),K=!!_.store&&!!_.store.getState&&!!_.store.dispatch;A&&A.store;var ie=K?_.store:A.store,Ve=y.useMemo(function(){return O(ie)},[ie]),xt=y.useMemo(function(){if(!u)return Sf;var st=qs(ie,K?null:A.subscription),gn=st.notifyNestedSubs.bind(st);return[st,gn]},[ie,K,A]),Ae=xt[0],at=xt[1],T=y.useMemo(function(){return K?A:L({},A,{subscription:Ae})},[K,A,Ae]),k=y.useReducer(jf,Nf,Tf),P=k[0],q=P[0],G=k[1];if(q&&q.error)throw q.error;var he=y.useRef(),te=y.useRef(Ee),oe=y.useRef(),be=y.useRef(!1),it=F(function(){return oe.current&&Ee===te.current?oe.current:Ve(ie.getState(),Ee)},[ie,q,Ee]);wi(Df,[te,he,be,Ee,it,oe,at]),wi(Cf,[u,ie,Ae,Ve,te,he,be,oe,at,G],[ie,Ae,Ve]);var He=y.useMemo(function(){return Q.createElement(C,L({},it,{ref:ge}))},[ge,C,it]),qe=y.useMemo(function(){return u?Q.createElement(Ie.Provider,{value:T},He):He},[Ie,He,T]);return qe}var ne=I?Q.memo(U):U;if(ne.WrappedComponent=C,ne.displayName=U.displayName=b,g){var se=Q.forwardRef(function(z,X){return Q.createElement(ne,L({},z,{reactReduxForwardedRef:X}))});return se.displayName=b,se.WrappedComponent=C,bi(se,C)}return bi(ne,C)}}function Ni(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Nn(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Ni(e[r[a]],t[r[a]]))return!1;return!0}function If(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)n(a);return r}function xa(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Si(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function to(e,t){return function(n,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Si(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Si(d),d=i(l,c)),d},i}}function Af(e){return typeof e=="function"?to(e):void 0}function Pf(e){return e?void 0:xa(function(t){return{dispatch:t}})}function kf(e){return e&&typeof e=="object"?xa(function(t){return If(e,t)}):void 0}const Of=[Af,Pf,kf];function Rf(e){return typeof e=="function"?to(e):void 0}function Mf(e){return e?void 0:xa(function(){return{}})}const Bf=[Rf,Mf];function Lf(e,t,r){return L({},r,e,t)}function Ff(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(d,u,p){var f=e(d,u,p);return o?(!a||!i(f,l))&&(l=f):(o=!0,l=f),l}}}function $f(e){return typeof e=="function"?Ff(e):void 0}function Uf(e){return e?void 0:function(){return Lf}}const Wf=[$f,Uf];var Hf=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function qf(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function Gf(e,t,r,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,u,p,f,m;function g(j,C){return d=j,u=C,p=e(d,u),f=t(n,u),m=r(p,f,u),c=!0,m}function h(){return p=e(d,u),t.dependsOnOwnProps&&(f=t(n,u)),m=r(p,f,u),m}function v(){return e.dependsOnOwnProps&&(p=e(d,u)),t.dependsOnOwnProps&&(f=t(n,u)),m=r(p,f,u),m}function x(){var j=e(d,u),C=!l(j,p);return p=j,C&&(m=r(p,f,u)),m}function w(j,C){var D=!o(C,u),b=!i(j,d,C,u);return d=j,u=C,D&&b?h():D?v():b?x():m}return function(C,D){return c?w(C,D):g(C,D)}}function zf(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=Ir(t,Hf),o=r(e,i),l=n(e,i),c=a(e,i),d=i.pure?Gf:qf;return d(o,l,c,e,i)}var Vf=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Sn(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function Yf(e,t){return e===t}function Kf(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Ef:r,a=t.mapStateToPropsFactories,i=a===void 0?Bf:a,o=t.mapDispatchToPropsFactories,l=o===void 0?Of:o,c=t.mergePropsFactories,d=c===void 0?Wf:c,u=t.selectorFactory,p=u===void 0?zf:u;return function(m,g,h,v){v===void 0&&(v={});var x=v,w=x.pure,j=w===void 0?!0:w,C=x.areStatesEqual,D=C===void 0?Yf:C,b=x.areOwnPropsEqual,S=b===void 0?Nn:b,I=x.areStatePropsEqual,O=I===void 0?Nn:I,F=x.areMergedPropsEqual,U=F===void 0?Nn:F,ne=Ir(x,Vf),se=Sn(m,i,"mapStateToProps"),_=Sn(g,l,"mapDispatchToProps"),z=Sn(h,d,"mergeProps");return n(p,L({methodName:"connect",getDisplayName:function(ge){return"Connect("+ge+")"},shouldHandleStateChanges:!!m,initMapStateToProps:se,initMapDispatchToProps:_,initMergeProps:z,pure:j,areStatesEqual:D,areOwnPropsEqual:S,areStatePropsEqual:O,areMergedPropsEqual:U},ne))}}const ro=Kf();Gp(Qi.unstable_batchedUpdates);function _f(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function no(e,t){var r=y.useState(function(){return{inputs:t,result:e()}})[0],n=y.useRef(!0),a=y.useRef(r),i=n.current||!!(t&&a.current.inputs&&_f(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return y.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function Jf(e,t){return no(function(){return e},t)}var H=no,M=Jf,Xf=!0,jn="Invariant failed";function Qf(e,t){if(!e){if(Xf)throw new Error(jn);var r=typeof t=="function"?t():t,n=r?"".concat(jn,": ").concat(r):jn;throw new Error(n)}}var Me=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,l=a-r,c={top:r,right:n,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},ya=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},ji=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Zf=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Dn={top:0,right:0,bottom:0,left:0},ba=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Dn:n,i=t.border,o=i===void 0?Dn:i,l=t.padding,c=l===void 0?Dn:l,d=Me(ya(r,a)),u=Me(ji(r,o)),p=Me(ji(u,c));return{marginBox:d,borderBox:Me(r),paddingBox:u,contentBox:p,margin:a,border:o,padding:c}},Pe=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Qf(!1),a},em=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ar=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=Zf(n,r);return ba({borderBox:l,border:a,margin:i,padding:o})},Pr=function(t,r){return r===void 0&&(r=em()),Ar(t,r)},ao=function(t,r){var n={top:Pe(r.marginTop),right:Pe(r.marginRight),bottom:Pe(r.marginBottom),left:Pe(r.marginLeft)},a={top:Pe(r.paddingTop),right:Pe(r.paddingRight),bottom:Pe(r.paddingBottom),left:Pe(r.paddingLeft)},i={top:Pe(r.borderTopWidth),right:Pe(r.borderRightWidth),bottom:Pe(r.borderBottomWidth),left:Pe(r.borderLeftWidth)};return ba({borderBox:t,margin:n,padding:a,border:i})},io=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return ao(r,n)},Di=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tm(e,t){return!!(e===t||Di(e)&&Di(t))}function rm(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!tm(e[r],t[r]))return!1;return!0}function ce(e,t){t===void 0&&(t=rm);var r,n=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(a=e.apply(this,l),i=!0,r=this,n=l),a}return o}var nm=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};const Vt=nm;function so(e,t){}so.bind(null,"warn");so.bind(null,"error");function Je(){}function am(e,t){return L({},e,{},t)}function ke(e,t,r){var n=t.map(function(a){var i=am(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var im="Invariant failed";function kr(e){this.message=e}kr.prototype.toString=function(){return this.message};function E(e,t){if(!e)throw new kr(im)}var sm=function(e){Fs(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Je,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof kr&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ke(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof kr){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Q.Component),om=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Or=function(t){return t+1},lm=function(t){return`
  You have lifted an item in position `+Or(t.source.index)+`
`},oo=function(t,r){var n=t.droppableId===r.droppableId,a=Or(t.index),i=Or(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},lo=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},cm=function(t){var r=t.destination;if(r)return oo(t.source,r);var n=t.combine;return n?lo(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Ci=function(t){return`
  The item has returned to its starting position
  of `+Or(t.index)+`
`},dm=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Ci(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+oo(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+lo(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Ci(t.source)+`
  `},Nr={dragHandleUsageInstructions:om,onDragStart:lm,onDragUpdate:cm,onDragEnd:dm},de={x:0,y:0},me=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Se=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Xe=function(t,r){return t.x===r.x&&t.y===r.y},Et=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},ht=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},Yt=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Ti=function(t,r){return Math.min.apply(Math,r.map(function(n){return Yt(t,n)}))},co=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},um=function(e,t){var r=Me({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},dr=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ei=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},pm={top:0,right:0,bottom:0,left:0},fm=function(t,r){return r?dr(t,r.scroll.diff.displacement):t},mm=function(t,r,n){if(n&&n.increasedBy){var a;return L({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},gm=function(t,r){return r&&r.shouldClipSubject?um(r.pageMarginBox,t):Me(t)},St=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=fm(t.marginBox,a),o=mm(i,n,r),l=gm(o,a);return{page:t,withPlaceholder:r,active:l}},wa=function(e,t){e.frame||E(!1);var r=e.frame,n=Se(t,r.scroll.initial),a=Et(n),i=L({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=St({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=L({},e,{frame:i,subject:o});return l};function Rr(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Na(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function nt(e,t){if(e.find)return e.find(t);var r=Na(e,t);if(r!==-1)return e[r]}function uo(e){return Array.prototype.slice.call(e)}var po=ce(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),fo=ce(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ln=ce(function(e){return Rr(e)}),hm=ce(function(e){return Rr(e)}),It=ce(function(e,t){var r=hm(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function Sa(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function cn(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var dn=ce(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),vm=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Sa(i);if(!o)return null;function l(h){var v={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return L({},i,{at:v})}var c=i.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var u=dn(r,a);if(!d){if(!u.length)return null;var p=u[u.length-1];return l(p.descriptor.id)}var f=Na(u,function(h){return h.descriptor.id===d});f===-1&&E(!1);var m=f-1;if(m<0)return null;var g=u[m];return l(g.descriptor.id)},At=function(e,t){return e.descriptor.droppableId===t.descriptor.id},mo={point:de,value:0},Kt={invisible:{},visible:{},all:[]},xm={displaced:Kt,displacedBy:mo,at:null},Oe=function(e,t){return function(r){return e<=r&&r<=t}},go=function(e){var t=Oe(e.top,e.bottom),r=Oe(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=c&&d;if(u)return!0;var p=c&&o||d&&i;return p}},ym=function(e){var t=Oe(e.top,e.bottom),r=Oe(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},ja={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ho={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},bm=function(e){return function(t){var r=Oe(t.top,t.bottom),n=Oe(t.left,t.right);return function(a){return e===ja?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},wm=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:de;return dr(t,n)},Nm=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Sm=function(t,r,n){return n(r)(t)},Da=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?wm(r,n):r;return Nm(l,n,o)&&Sm(l,a,o)},jm=function(t){return Da(L({},t,{isVisibleThroughFrameFn:go}))},vo=function(t){return Da(L({},t,{isVisibleThroughFrameFn:ym}))},Dm=function(t){return Da(L({},t,{isVisibleThroughFrameFn:bm(t.destination.axis)}))},Cm=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function Tm(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Me(ya(r,n))}function _t(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var u=Tm(d,n),p=d.descriptor.id;c.all.push(p);var f=jm({target:u,destination:r,viewport:a,withDroppableDisplacement:!0});if(!f)return c.invisible[d.descriptor.id]=!0,c;var m=Cm(p,o,i),g={draggableId:p,shouldAnimate:m};return c.visible[p]=g,c},{all:[],visible:{},invisible:{}})}function Em(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Ii(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=Em(t,{inHomeList:r});return{displaced:Kt,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Mr(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=At(t,n);if(l==null)return Ii({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var u=nt(r,function(h){return h.descriptor.index===l});if(!u)return Ii({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var p=dn(t,r),f=r.indexOf(u),m=p.slice(f),g=_t({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function tt(e,t){return!!t.effected[e]}var Im=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=n[o],c=l.descriptor.index,d=tt(o,i);return d?t?c:c-1:t?c+1:c},Am=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=r?c:c+1;return o<l||o>d?null:o},Pm=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||E(!1),u.type==="REORDER"){var p=Am({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:o});return p==null?null:Mr({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})}var f=Im({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:d});return f==null?null:Mr({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})},km=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return tt(n,r)?i?de:Et(a.point):i?a.point:de},Om=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=cn(r);a||E(!1);var i=a.draggableId,o=n[i].page.borderBox.center,l=km({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return me(o,l)},xo=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Rm=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ca=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Ai=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return ht(r.line,n.marginBox[r.end]+xo(r,a),Ca(r,n.marginBox,a))},Pi=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return ht(r.line,n.marginBox[r.start]-Rm(r,a),Ca(r,n.marginBox,a))},Mm=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return ht(r.line,n.contentBox[r.start]+xo(r,a),Ca(r,n.contentBox,a))},Bm=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=It(a.descriptor.id,n),l=r.page,c=a.axis;if(!o.length)return Mm({axis:c,moveInto:a.page,isMoving:l});var d=t.displaced,u=t.displacedBy,p=d.all[0];if(p){var f=n[p];if(tt(p,i))return Pi({axis:c,moveRelativeTo:f.page,isMoving:l});var m=Ar(f.page,u.point);return Pi({axis:c,moveRelativeTo:m,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===r.descriptor.id)return l.borderBox.center;if(tt(g.descriptor.id,i)){var h=Ar(g.page,Et(i.displacedBy.point));return Ai({axis:c,moveRelativeTo:h,isMoving:l})}return Ai({axis:c,moveRelativeTo:g.page,isMoving:l})},Yn=function(e,t){var r=e.frame;return r?me(t,r.scroll.diff.displacement):t},Lm=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?Bm({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:o}):Om({impact:r,draggables:i,afterCritical:o})},un=function(e){var t=Lm(e),r=e.droppable,n=r?Yn(r,t):t;return n},yo=function(e,t){var r=Se(t,e.scroll.initial),n=Et(r),a=Me({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function ki(e,t){return e.map(function(r){return t[r]})}function Fm(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var $m=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=yo(r,me(r.scroll.current,i)),l=n.frame?wa(n,me(n.frame.scroll.current,i)):n,c=t.displaced,d=_t({afterDragging:ki(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=_t({afterDragging:ki(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),p={},f={},m=[c,d,u];c.all.forEach(function(h){var v=Fm(h,m);if(v){f[h]=v;return}p[h]=!0});var g=L({},t,{displaced:{all:c.all,invisible:p,visible:f}});return g},Um=function(e,t){return me(e.scroll.diff.displacement,t)},Ta=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=Um(n,t),i=Se(a,r.page.borderBox.center);return me(r.client.borderBox.center,i)},bo=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Se(n,t.page.borderBox.center),d=dr(t.page.borderBox,c),u={target:d,destination:r,withDroppableDisplacement:i,viewport:a};return l?Dm(u):vo(u)},Wm=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=It(n.descriptor.id,a),p=At(r,n),f=vm({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:i})||Pm({isMovingForward:t,isInHomeList:p,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:d});if(!f)return null;var m=un({impact:f,draggable:r,droppable:n,draggables:a,afterCritical:d}),g=bo({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var h=Ta({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:h,impact:f,scrollJumpRequest:null}}var v=Se(m,l),x=$m({impact:f,viewport:o,destination:n,draggables:a,maxScrollChange:v});return{clientSelection:c,impact:x,scrollJumpRequest:v}},xe=function(t){var r=t.subject.active;return r||E(!1),r},Hm=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=Oe(o[l.start],o[l.end]),d=ln(a).filter(function(p){return p!==n}).filter(function(p){return p.isEnabled}).filter(function(p){return!!p.subject.active}).filter(function(p){return go(i.frame)(xe(p))}).filter(function(p){var f=xe(p);return t?o[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(p){var f=xe(p),m=Oe(f[l.start],f[l.end]);return c(f[l.start])||c(f[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(p,f){var m=xe(p)[l.crossAxisStart],g=xe(f)[l.crossAxisStart];return t?m-g:g-m}).filter(function(p,f,m){return xe(p)[l.crossAxisStart]===xe(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(p){var f=Oe(xe(p)[l.start],xe(p)[l.end]);return f(r[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(p,f){return xe(p)[l.start]-xe(f)[l.start]})[0]:d.sort(function(p,f){var m=Ti(r,Ei(xe(p))),g=Ti(r,Ei(xe(f)));return m!==g?m-g:xe(p)[l.start]-xe(f)[l.start]})[0]},Oi=function(t,r){var n=t.page.borderBox.center;return tt(t.descriptor.id,r)?Se(n,r.displacedBy.point):n},qm=function(t,r){var n=t.page.borderBox;return tt(t.descriptor.id,r)?dr(n,Et(r.displacedBy.point)):n},Gm=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return vo({target:qm(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=Yt(t,Yn(n,Oi(l,i))),u=Yt(t,Yn(n,Oi(c,i)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},ur=ce(function(t,r){var n=r[t.line];return{value:n,point:ht(t.line,n)}}),zm=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return ht(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=It(t.descriptor.id,n),l=o.reduce(function(u,p){return u+p.client.marginBox[a.size]},0),c=l+r[a.line],d=c-i;return d<=0?null:ht(a.line,d)},wo=function(t,r){return L({},t,{scroll:L({},t.scroll,{max:r})})},No=function(t,r,n){var a=t.frame;At(r,t)&&E(!1),t.subject.withPlaceholder&&E(!1);var i=ur(t.axis,r.displaceBy).point,o=zm(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=St({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return L({},t,{subject:c})}var d=o?me(a.scroll.max,o):a.scroll.max,u=wo(a,d),p=St({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:u});return L({},t,{subject:p,frame:u})},Vm=function(t){var r=t.subject.withPlaceholder;r||E(!1);var n=t.frame;if(!n){var a=St({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return L({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||E(!1);var o=wo(n,i),l=St({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return L({},t,{subject:l,frame:o})},Ym=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Kt,displacedBy:mo,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=un({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),p=At(a,o)?o:No(o,a,i),f=bo({draggable:a,destination:p,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?d:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],g=function(){var v=r.descriptor.index;return r.descriptor.id===a.descriptor.id||m?v:v+1}(),h=ur(o.axis,a.displaceBy);return Mr({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:h,last:Kt,index:g})},Km=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=Hm({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!d)return null;var u=It(d.descriptor.id,i),p=Gm({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:u,afterCritical:c}),f=Ym({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:u,viewport:l,afterCritical:c});if(!f)return null;var m=un({impact:f,draggable:n,droppable:d,draggables:i,afterCritical:c}),g=Ta({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:g,impact:f,scrollJumpRequest:null}},je=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},_m=function(t,r){var n=je(t);return n?r[n]:null},Jm=function(e){var t=e.state,r=e.type,n=_m(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,f=t.dimensions,m=f.draggables,g=f.droppables;return c?Wm({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:u,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Km({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:u,isOver:o,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function dt(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function So(e){var t=Oe(e.top,e.bottom),r=Oe(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function Xm(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Qm(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=ht(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Yt(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function Zm(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=ln(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!Xm(t,o))return!1;if(So(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],u=t[l.crossAxisEnd],p=Oe(o[l.crossAxisStart],o[l.crossAxisEnd]),f=p(d),m=p(u);return!f&&!m?!0:f?d<c:u>c});return a.length?a.length===1?a[0].descriptor.id:Qm({pageBorderBox:t,draggable:r,candidates:a}):null}var jo=function(t,r){return Me(dr(t,r))},eg=function(e,t){var r=e.frame;return r?jo(t,r.scroll.diff.value):t};function Do(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function tg(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var rg=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,d=ur(n.axis,r.displaceBy),u=d.value,p=t[c.start],f=t[c.end],m=dn(r,a),g=nt(m,function(v){var x=v.descriptor.id,w=v.page.borderBox.center[c.line],j=tt(x,l),C=Do({displaced:i,id:x});return j?C?f<=w:p<w-u:C?f<=w+u:p<w}),h=tg({draggable:r,closest:g,inHomeList:At(r,n)});return Mr({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:d,index:h})},ng=4,ag=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=ur(a.axis,t.displaceBy),d=c.value,u=r[l.start],p=r[l.end],f=dn(t,i),m=nt(f,function(h){var v=h.descriptor.id,x=h.page.borderBox,w=x[l.size],j=w/ng,C=tt(v,o),D=Do({displaced:n.displaced,id:v});return C?D?p>x[l.start]+j&&p<x[l.end]-j:u>x[l.start]-d+j&&u<x[l.end]-d-j:D?p>x[l.start]+d+j&&p<x[l.end]+d-j:u>x[l.start]+j&&u<x[l.end]-j});if(!m)return null;var g={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return g},Co=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=jo(r.page.borderBox,t),d=Zm({pageBorderBox:c,draggable:r,droppables:a});if(!d)return xm;var u=a[d],p=It(u.descriptor.id,n),f=eg(u,c);return ag({pageBorderBoxWithDroppableScroll:f,draggable:r,previousImpact:i,destination:u,insideDestination:p,afterCritical:l})||rg({pageBorderBoxWithDroppableScroll:f,draggable:r,destination:u,insideDestination:p,last:i.displaced,viewport:o,afterCritical:l})},Ea=function(e,t){var r;return L({},e,(r={},r[t.descriptor.id]=t,r))},ig=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=je(r),o=je(n);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=Vm(l);return Ea(a,c)},sg=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=ig({previousImpact:a,impact:i,droppables:n}),l=je(i);if(!l)return o;var c=n[l];if(At(t,c)||c.subject.withPlaceholder)return o;var d=No(c,t,r);return Ea(o,d)},Ht=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=n||t.dimensions,d=r||t.current.client.selection,u=Se(d,t.initial.client.selection),p={offset:u,selection:d,borderBoxCenter:me(t.initial.client.borderBoxCenter,u)},f={selection:me(p.selection,l.scroll.current),borderBoxCenter:me(p.borderBoxCenter,l.scroll.current),offset:me(p.offset,l.scroll.diff.value)},m={client:p,page:f};if(t.phase==="COLLECTING")return L({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var g=c.draggables[t.critical.draggable.id],h=i||Co({pageOffset:f.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=sg({draggable:g,impact:h,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=L({},t,{current:m,dimensions:{draggables:c.draggables,droppables:v},impact:h,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return x};function og(e,t){return e.map(function(r){return t[r]})}var To=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=og(o.all,n),c=_t({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return L({},t,{displaced:c})},Eo=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=un({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return Ta({pageBorderBoxCenter:l,draggable:r,viewport:i})},Io=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&E(!1);var a=t.impact,i=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],u=je(a);u||E(!1);var p=c[u],f=To({impact:a,viewport:i,destination:p,draggables:l}),m=Eo({impact:f,draggable:d,droppable:p,draggables:l,viewport:i,afterCritical:t.afterCritical});return Ht({impact:f,clientSelection:m,state:t,dimensions:o,viewport:i})},lg=function(e){return{index:e.index,droppableId:e.droppableId}},Ao=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=ur(r.axis,t.displaceBy),o=It(r.descriptor.id,n),l=o.indexOf(t);l===-1&&E(!1);var c=o.slice(l+1),d=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:d},p=_t({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),f={displaced:p,displacedBy:i,at:{type:"REORDER",destination:lg(t.descriptor)}};return{impact:f,afterCritical:u}},cg=function(e,t){return{draggables:e.draggables,droppables:Ea(e.droppables,t)}},dg=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=Ar(t.client,r),i=Pr(a,n),o=L({},t,{placeholder:L({},t.placeholder,{client:a}),client:a,page:i});return o},ug=function(e){var t=e.frame;return t||E(!1),t},pg=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=ug(l),d=c.scroll.diff.value,u=me(a,d),p=dg({draggable:i,offset:u,initialWindowScroll:n.scroll.initial});return p})},fg=function(e){var t=e.state,r=e.published,n=r.modified.map(function(j){var C=t.dimensions.droppables[j.droppableId],D=wa(C,j.scroll);return D}),a=L({},t.dimensions.droppables,{},po(n)),i=fo(pg({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=L({},t.dimensions.draggables,{},i);r.removals.forEach(function(j){delete o[j]});var l={droppables:a,draggables:o},c=je(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=Ao({draggable:u,home:p,draggables:o,viewport:t.viewport}),m=f.impact,g=f.afterCritical,h=d&&d.isCombineEnabled?t.impact:m,v=Co({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:h,viewport:t.viewport,afterCritical:g}),x=L({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var w=L({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return w},Kn=function(t){return t.movementMode==="SNAP"},Cn=function(t,r,n){var a=cg(t.dimensions,r);return!Kn(t)||n?Ht({state:t,dimensions:a}):Io({state:t,dimensions:a})};function Tn(e){return e.isDragging&&e.movementMode==="SNAP"?L({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Ri={phase:"IDLE",completed:null,shouldFlush:!1},mg=function(e,t){if(e===void 0&&(e=Ri),t.type==="FLUSH")return L({},Ri,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&E(!1);var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:de},p={client:u,page:{selection:me(u.selection,i.scroll.initial),borderBoxCenter:me(u.selection,i.scroll.initial),offset:me(u.selection,i.scroll.diff.value)}},f=ln(o.droppables).every(function(G){return!G.isFixedOnPage}),m=Ao({draggable:c,home:d,draggables:o.draggables,viewport:i}),g=m.impact,h=m.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:p,current:p,isWindowScrollAllowed:f,impact:g,afterCritical:h,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&E(!1);var x=L({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||E(!1),fg({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;dt(e)||E(!1);var w=t.payload.client;return Xe(w,e.current.client.selection)?e:Ht({state:e,clientSelection:w,impact:Kn(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Tn(e);dt(e)||E(!1);var j=t.payload,C=j.id,D=j.newScroll,b=e.dimensions.droppables[C];if(!b)return e;var S=wa(b,D);return Cn(e,S,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;dt(e)||E(!1);var I=t.payload,O=I.id,F=I.isEnabled,U=e.dimensions.droppables[O];U||E(!1),U.isEnabled===F&&E(!1);var ne=L({},U,{isEnabled:F});return Cn(e,ne,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;dt(e)||E(!1);var se=t.payload,_=se.id,z=se.isCombineEnabled,X=e.dimensions.droppables[_];X||E(!1),X.isCombineEnabled===z&&E(!1);var ge=L({},X,{isCombineEnabled:z});return Cn(e,ge,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;dt(e)||E(!1),e.isWindowScrollAllowed||E(!1);var Ee=t.payload.newScroll;if(Xe(e.viewport.scroll.current,Ee))return Tn(e);var Ie=yo(e.viewport,Ee);return Kn(e)?Io({state:e,viewport:Ie}):Ht({state:e,viewport:Ie})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!dt(e))return e;var A=t.payload.maxScroll;if(Xe(A,e.viewport.scroll.max))return e;var K=L({},e.viewport,{scroll:L({},e.viewport.scroll,{max:A})});return L({phase:"DRAGGING"},e,{viewport:K})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&E(!1);var ie=Jm({state:e,type:t.type});return ie?Ht({state:e,impact:ie.impact,clientSelection:ie.clientSelection,scrollJumpRequest:ie.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Ve=t.payload.reason;e.phase!=="COLLECTING"&&E(!1);var xt=L({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ve});return xt}if(t.type==="DROP_ANIMATE"){var Ae=t.payload,at=Ae.completed,T=Ae.dropDuration,k=Ae.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||E(!1);var P={phase:"DROP_ANIMATING",completed:at,dropDuration:T,newHomeClientOffset:k,dimensions:e.dimensions};return P}if(t.type==="DROP_COMPLETE"){var q=t.payload.completed;return{phase:"IDLE",completed:q,shouldFlush:!1}}return e},gg=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},hg=function(t){return{type:"LIFT",payload:t}},vg=function(t){return{type:"INITIAL_PUBLISH",payload:t}},xg=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},yg=function(){return{type:"COLLECTION_STARTING",payload:null}},bg=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},wg=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Ng=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Po=function(t){return{type:"MOVE",payload:t}},Sg=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},jg=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Dg=function(){return{type:"MOVE_UP",payload:null}},Cg=function(){return{type:"MOVE_DOWN",payload:null}},Tg=function(){return{type:"MOVE_RIGHT",payload:null}},Eg=function(){return{type:"MOVE_LEFT",payload:null}},Ia=function(){return{type:"FLUSH",payload:null}},Ig=function(t){return{type:"DROP_ANIMATE",payload:t}},Aa=function(t){return{type:"DROP_COMPLETE",payload:t}},ko=function(t){return{type:"DROP",payload:t}},Ag=function(t){return{type:"DROP_PENDING",payload:t}},Oo=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Pg=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(Aa({completed:u.completed})),r().phase!=="IDLE"&&E(!1),n(Ia()),n(gg({draggableId:l,movementMode:d}));var p={shouldPublishImmediately:d==="SNAP"},f={draggableId:l,scrollOptions:p},m=e.startPublishing(f),g=m.critical,h=m.dimensions,v=m.viewport;n(vg({critical:g,dimensions:h,clientSelection:c,movementMode:d,viewport:v}))}}}},kg=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Pa={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Jt={opacity:{drop:0,combining:.7},scale:{drop:.75}},ka={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},lt=ka.outOfTheWay+"s "+Pa.outOfTheWay,qt={fluid:"opacity "+lt,snap:"transform "+lt+", opacity "+lt,drop:function(t){var r=t+"s "+Pa.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+lt,placeholder:"height "+lt+", width "+lt+", margin "+lt},Mi=function(t){return Xe(t,de)?null:"translate("+t.x+"px, "+t.y+"px)"},_n={moveTo:Mi,drop:function(t,r){var n=Mi(t);return n?r?n+" scale("+Jt.scale.drop+")":n:null}},Jn=ka.minDropTime,Ro=ka.maxDropTime,Og=Ro-Jn,Bi=1500,Rg=.6,Mg=function(e){var t=e.current,r=e.destination,n=e.reason,a=Yt(t,r);if(a<=0)return Jn;if(a>=Bi)return Ro;var i=a/Bi,o=Jn+Og*i,l=n==="CANCEL"?o*Rg:o;return Number(l.toFixed(2))},Bg=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=je(t),d=c?l[c]:null,u=l[r.descriptor.droppableId],p=Eo({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:d||u,viewport:a}),f=Se(p,r.client.borderBox.center);return f},Lg=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=To({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=L({},n,{displaced:Kt});return{impact:c,didDropInsideDroppable:!0}},Fg=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(Ag({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&E(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||E(!1);var c=i.critical,d=i.dimensions,u=d.draggables[i.critical.draggable.id],p=Lg({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=p.impact,m=p.didDropInsideDroppable,g=m?Sa(f):null,h=m?cn(f):null,v={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:o,mode:i.movementMode,destination:g,combine:h},w=Bg({impact:f,draggable:u,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:f},C=!Xe(i.current.client.offset,w)||!!x.combine;if(!C){r(Aa({completed:j}));return}var D=Mg({current:i.current.client.offset,destination:w,reason:o}),b={newHomeClientOffset:w,dropDuration:D,completed:j};r(Ig(b))}}}},Mo=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function $g(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Ug(e){var t=e.onWindowScroll;function r(){t(Mo())}var n=Vt(r),a=$g(n),i=Je;function o(){return i!==Je}function l(){o()&&E(!1),i=ke(window,[a])}function c(){o()||E(!1),n.cancel(),i(),i=Je}return{start:l,stop:c,isActive:o}}var Wg=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Hg=function(e){var t=Ug({onWindowScroll:function(n){e.dispatch(Sg({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Wg(n)&&t.stop(),r(n)}}},qg=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},Gg=function(){var e=[],t=function(i){var o=Na(e,function(d){return d.timerId===i});o===-1&&E(!1);var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},zg=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Vg=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},Yg=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Bt=function(t,r){r()},fr=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},En=function(t,r,n,a){if(!t){n(a(r));return}var i=qg(n),o={announce:i};t(r,o),i.wasCalled()||n(a(r))},Kg=function(e,t){var r=Gg(),n=null,a=function(f,m){n&&E(!1),Bt("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var h={draggableId:f,mode:m};g(h)}})},i=function(f,m){n&&E(!1),Bt("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(fr(f,m))})},o=function(f,m){n&&E(!1);var g=fr(f,m);n={mode:m,lastCritical:f,lastLocation:g.source,lastCombine:null},r.add(function(){Bt("onDragStart",function(){return En(e().onDragStart,g,t,Nr.onDragStart)})})},l=function(f,m){var g=Sa(m),h=cn(m);n||E(!1);var v=!Yg(f,n.lastCritical);v&&(n.lastCritical=f);var x=!zg(n.lastLocation,g);x&&(n.lastLocation=g);var w=!Vg(n.lastCombine,h);if(w&&(n.lastCombine=h),!(!v&&!x&&!w)){var j=L({},fr(f,n.mode),{combine:h,destination:g});r.add(function(){Bt("onDragUpdate",function(){return En(e().onDragUpdate,j,t,Nr.onDragUpdate)})})}},c=function(){n||E(!1),r.flush()},d=function(f){n||E(!1),n=null,Bt("onDragEnd",function(){return En(e().onDragEnd,f,t,Nr.onDragEnd)})},u=function(){if(n){var f=L({},fr(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(f)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:u}},_g=function(e,t){var r=Kg(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},Jg=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&E(!1),e.dispatch(Aa({completed:n.completed}))}}},Xg=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Oo())}};r=requestAnimationFrame(function(){r=null,t=ke(window,[o])})}}}},Qg=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Zg=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},eh=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},th=function(e){return function(t){return function(r){return function(n){if(eh(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&E(!1),e.start(a);return}r(n),e.scroll(t.getState())}}}},rh=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(ko({reason:n.reason})))}}}},nh=Us,ah=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return $s(mg,nh(Hp(kg(n),Qg(t),Pg(t),Fg,Jg,Xg,rh,th(o),Hg,Zg(r),_g(a,i))))},In=function(){return{additions:{},removals:{},modified:{}}};function ih(e){var t=e.registry,r=e.callbacks,n=In(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,p=u.additions,f=u.removals,m=u.modified,g=Object.keys(p).map(function(x){return t.draggable.getById(x).getDimension(de)}).sort(function(x,w){return x.descriptor.index-w.descriptor.index}),h=Object.keys(m).map(function(x){var w=t.droppable.getById(x),j=w.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:j}}),v={additions:g,removals:Object.keys(f),modified:h};n=In(),r.publish(v)}))},o=function(u){var p=u.descriptor.id;n.additions[p]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],i()},l=function(u){var p=u.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=In())};return{add:o,remove:l,stop:c}}var Bo=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=Se({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Lo=function(){var e=document.documentElement;return e||E(!1),e},Fo=function(){var e=Lo(),t=Bo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},sh=function(){var e=Mo(),t=Fo(),r=e.y,n=e.x,a=Lo(),i=a.clientWidth,o=a.clientHeight,l=n+i,c=r+o,d=Me({top:r,left:n,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:de,displacement:de}}};return u},oh=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=sh(),i=a.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(p){return p.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(p){return p.getDimension(i)}),d={draggables:fo(c),droppables:po(l)},u={dimensions:d,critical:t,viewport:a};return u};function Li(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var lh=function(e,t){var r=null,n=ih({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,g){e.droppable.exists(m)||E(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},i=function(m,g){r&&(e.droppable.exists(m)||E(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},o=function(m,g){r&&(e.droppable.exists(m)||E(!1),t.updateDroppableScroll({id:m,newScroll:g}))},l=function(m,g){r&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||E(!1);var g=r.critical.draggable;m.type==="ADDITION"&&Li(e,g,m.value)&&n.add(m.value),m.type==="REMOVAL"&&Li(e,g,m.value)&&n.remove(m.value)},u=function(m){r&&E(!1);var g=e.draggable.getById(m.draggableId),h=e.droppable.getById(g.descriptor.droppableId),v={draggable:g.descriptor,droppable:h.descriptor},x=e.subscribe(d);return r={critical:v,unsubscribe:x},oh({critical:v,registry:e,scrollOptions:m.scrollOptions})},p={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return p},$o=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},ch=function(e){window.scrollBy(e.x,e.y)},dh=ce(function(e){return ln(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),uh=function(t,r){var n=nt(dh(r),function(a){return a.frame||E(!1),So(a.frame.pageMarginBox)(t)});return n},ph=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=uh(t,n);return i},Qe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},fh=function(e,t){var r=e[t.size]*Qe.startFromPercentage,n=e[t.size]*Qe.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},Uo=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,o=i/a;return o},Oa=1,mh=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Qe.maxPixelScroll;if(e===t.startScrollingFrom)return Oa;var r=Uo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=Qe.maxPixelScroll*Qe.ease(n);return Math.ceil(a)},Fi=Qe.durationDampening.accelerateAt,$i=Qe.durationDampening.stopDampeningAt,gh=function(e,t){var r=t,n=$i,a=Date.now(),i=a-r;if(i>=$i)return e;if(i<Fi)return Oa;var o=Uo({startOfRange:Fi,endOfRange:n,current:i}),l=e*Qe.ease(o);return Math.ceil(l)},Ui=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=mh(t,r);return i===0?0:a?Math.max(gh(i,n),Oa):i},Wi=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=fh(t,a),l=r[a.end]<r[a.start];return l?Ui({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*Ui({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},hh=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},vh=co(function(e){return e===0?0:e}),Wo=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=Wi({container:r,distanceToEdges:o,dragStartTime:t,axis:ja,shouldUseTimeDampening:i}),c=Wi({container:r,distanceToEdges:o,dragStartTime:t,axis:ho,shouldUseTimeDampening:i}),d=vh({x:c,y:l});if(Xe(d,de))return null;var u=hh({container:r,subject:n,proposedScroll:d});return u?Xe(u,de)?null:u:null},xh=co(function(e){return e===0?0:e>0?1:-1}),Ra=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=me(r,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Xe(o,de)?null:o}}(),Ho=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=xh(a),l=Ra({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Ma=function(t,r){return Ho({current:t.scroll.current,max:t.scroll.max,change:r})},yh=function(t,r){if(!Ma(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return Ra({current:a,max:n,change:r})},Ba=function(t,r){var n=t.frame;return n?Ho({current:n.scroll.current,max:n.scroll.max,change:r}):!1},bh=function(t,r){var n=t.frame;return!n||!Ba(t,r)?null:Ra({current:n.scroll.current,max:n.scroll.max,change:r})},wh=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Wo({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Ma(t,o)?o:null},Nh=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Wo({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&Ba(t,l)?l:null},Hi=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=wh({dragStartTime:r,viewport:d,subject:c,center:o,shouldUseTimeDampening:n});if(u){a(u);return}}var p=ph({center:o,destination:je(t.impact),droppables:t.dimensions.droppables});if(p){var f=Nh({dragStartTime:r,droppable:p,subject:c,center:o,shouldUseTimeDampening:n});f&&i(p.descriptor.id,f)}},Sh=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Vt(t),a=Vt(r),i=null,o=function(u){i||E(!1);var p=i,f=p.shouldUseTimeDampening,m=p.dragStartTime;Hi({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:f})},l=function(u){i&&E(!1);var p=Date.now(),f=!1,m=function(){f=!0};Hi({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:p,shouldUseTimeDampening:f},f&&o(u)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},jh=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(d,u){var p=me(d.current.client.selection,u);t({client:p})},i=function(d,u){if(!Ba(d,u))return u;var p=bh(d,u);if(!p)return r(d.descriptor.id,u),null;var f=Se(u,p);r(d.descriptor.id,f);var m=Se(u,f);return m},o=function(d,u,p){if(!d||!Ma(u,p))return p;var f=yh(u,p);if(!f)return n(p),null;var m=Se(p,f);n(m);var g=Se(p,m);return g},l=function(d){var u=d.scrollJumpRequest;if(u){var p=je(d.impact);p||E(!1);var f=i(d.dimensions.droppables[p],u);if(f){var m=d.viewport,g=o(d.isWindowScrollAllowed,m,f);g&&a(d,g)}}};return l},Dh=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=Sh({scrollWindow:r,scrollDroppable:t}),i=jh({move:n,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},jt="data-rbd",Dt=function(){var e=jt+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Xn=function(){var e=jt+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ch=function(){var e=jt+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),qi={contextId:jt+"-scroll-container-context-id"},Th=function(t){return function(r){return"["+r+'="'+t+'"]'}},Lt=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Eh="pointer-events: none;",Ih=function(e){var t=Th(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dt.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Eh,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+qt.outOfTheWay+`;
    `;return{selector:t(Xn.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(Ch.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,i];return{always:Lt(o,"always"),resting:Lt(o,"resting"),dragging:Lt(o,"dragging"),dropAnimating:Lt(o,"dropAnimating"),userCancel:Lt(o,"userCancel")}},De=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect,An=function(){var t=document.querySelector("head");return t||E(!1),t},Gi=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Ah(e,t){var r=H(function(){return Ih(e)},[e]),n=y.useRef(null),a=y.useRef(null),i=M(ce(function(p){var f=a.current;f||E(!1),f.textContent=p}),[]),o=M(function(p){var f=n.current;f||E(!1),f.textContent=p},[]);De(function(){!n.current&&!a.current||E(!1);var p=Gi(t),f=Gi(t);return n.current=p,a.current=f,p.setAttribute(jt+"-always",e),f.setAttribute(jt+"-dynamic",e),An().appendChild(p),An().appendChild(f),o(r.always),i(r.resting),function(){var m=function(h){var v=h.current;v||E(!1),An().removeChild(v),h.current=null};m(n),m(a)}},[t,o,i,r.always,r.resting,e]);var l=M(function(){return i(r.dragging)},[i,r.dragging]),c=M(function(p){if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=M(function(){a.current&&i(r.resting)},[i,r.resting]),u=H(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var qo=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function pn(e){return e instanceof qo(e).HTMLElement}function Ph(e,t){var r="["+Dt.contextId+'="'+e+'"]',n=uo(document.querySelectorAll(r));if(!n.length)return null;var a=nt(n,function(i){return i.getAttribute(Dt.draggableId)===t});return!a||!pn(a)?null:a}function kh(e){var t=y.useRef({}),r=y.useRef(null),n=y.useRef(null),a=y.useRef(!1),i=M(function(f,m){var g={id:f,focus:m};return t.current[f]=g,function(){var v=t.current,x=v[f];x!==g&&delete v[f]}},[]),o=M(function(f){var m=Ph(e,f);m&&m!==document.activeElement&&m.focus()},[e]),l=M(function(f,m){r.current===f&&(r.current=m)},[]),c=M(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var f=r.current;f&&o(f)}))},[o]),d=M(function(f){r.current=null;var m=document.activeElement;m&&m.getAttribute(Dt.draggableId)===f&&(r.current=f)},[]);De(function(){return a.current=!0,function(){a.current=!1;var f=n.current;f&&cancelAnimationFrame(f)}},[]);var u=H(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return u}function Oh(){var e={draggables:{},droppables:{}},t=[];function r(p){return t.push(p),function(){var m=t.indexOf(p);m!==-1&&t.splice(m,1)}}function n(p){t.length&&t.forEach(function(f){return f(p)})}function a(p){return e.draggables[p]||null}function i(p){var f=a(p);return f||E(!1),f}var o={register:function(f){e.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:function(f,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var m=f.descriptor.id,g=a(m);g&&f.uniqueId===g.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return Rr(e.draggables).filter(function(m){return m.descriptor.type===f})}};function l(p){return e.droppables[p]||null}function c(p){var f=l(p);return f||E(!1),f}var d={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:function(f){return!!l(f)},getAllByType:function(f){return Rr(e.droppables).filter(function(m){return m.descriptor.type===f})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function Rh(){var e=H(Oh,[]);return y.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var La=Q.createContext(null),Br=function(){var e=document.body;return e||E(!1),e},Mh={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Bh=function(t){return"rbd-announcement-"+t};function Lh(e){var t=H(function(){return Bh(e)},[e]),r=y.useRef(null);y.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),L(i.style,Mh),Br().appendChild(i),function(){setTimeout(function(){var c=Br();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=M(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var Fh=0,$h={separator:"::"};function Fa(e,t){return t===void 0&&(t=$h),H(function(){return""+e+t.separator+Fh++},[t.separator,e])}function Uh(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Wh(e){var t=e.contextId,r=e.text,n=Fa("hidden-text",{separator:"-"}),a=H(function(){return Uh({contextId:t,uniqueId:n})},[n,t]);return y.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",Br().appendChild(o),function(){var c=Br();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var fn=Q.createContext(null);function Go(e){var t=y.useRef(e);return y.useEffect(function(){t.current=e}),t}function Hh(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&E(!1);var l={abandon:o};return e=l,l}function a(){e||E(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var qh=9,Gh=13,$a=27,zo=32,zh=33,Vh=34,Yh=35,Kh=36,_h=37,Jh=38,Xh=39,Qh=40,mr,Zh=(mr={},mr[Gh]=!0,mr[qh]=!0,mr),Vo=function(e){Zh[e.keyCode]&&e.preventDefault()},mn=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=nt(t,function(n){return"on"+n in document});return r||e}(),Yo=0,zi=5;function ev(e,t){return Math.abs(t.x-e.x)>=zi||Math.abs(t.y-e.y)>=zi}var Vi={type:"IDLE"};function tv(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===Yo){var u={x:c,y:d},p=n();if(p.type==="DRAGGING"){o.preventDefault(),p.actions.move(u);return}p.type!=="PENDING"&&E(!1);var f=p.point;if(ev(f,u)){o.preventDefault();var m=p.actions.fluidLift(u);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===$a){o.preventDefault(),t();return}Vo(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&E(!1),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:mn,fn:t}]}function rv(e){var t=y.useRef(Vi),r=y.useRef(Je),n=H(function(){return{eventName:"mousedown",fn:function(p){if(!p.defaultPrevented&&p.button===Yo&&!(p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)){var f=e.findClosestDraggableId(p);if(f){var m=e.tryGetLock(f,o,{sourceEvent:p});if(m){p.preventDefault();var g={x:p.clientX,y:p.clientY};r.current(),d(m,g)}}}}}},[e]),a=H(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(p){if(!p.defaultPrevented){var f=e.findClosestDraggableId(p);if(f){var m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&p.preventDefault())}}}}},[e]),i=M(function(){var p={passive:!1,capture:!0};r.current=ke(window,[a,n],p)},[a,n]),o=M(function(){var u=t.current;u.type!=="IDLE"&&(t.current=Vi,r.current(),i())},[i]),l=M(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=M(function(){var p={capture:!0,passive:!1},f=tv({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});r.current=ke(window,f,p)},[l,o]),d=M(function(p,f){t.current.type!=="IDLE"&&E(!1),t.current={type:"PENDING",point:f,actions:p},c()},[c]);De(function(){return i(),function(){r.current()}},[i])}var bt;function nv(){}var av=(bt={},bt[Vh]=!0,bt[zh]=!0,bt[Kh]=!0,bt[Yh]=!0,bt);function iv(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===$a){i.preventDefault(),r();return}if(i.keyCode===zo){i.preventDefault(),n();return}if(i.keyCode===Qh){i.preventDefault(),e.moveDown();return}if(i.keyCode===Jh){i.preventDefault(),e.moveUp();return}if(i.keyCode===Xh){i.preventDefault(),e.moveRight();return}if(i.keyCode===_h){i.preventDefault(),e.moveLeft();return}if(av[i.keyCode]){i.preventDefault();return}Vo(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:mn,fn:r}]}function sv(e){var t=y.useRef(nv),r=H(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==zo)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();t.current();function u(){c||E(!1),c=!1,t.current(),n()}t.current=ke(window,iv(d,u),{capture:!0,passive:!1})}}},[e]),n=M(function(){var i={passive:!1,capture:!0};t.current=ke(window,[r],i)},[r]);De(function(){return n(),function(){t.current()}},[n])}var Pn={type:"IDLE"},ov=120,lv=.15;function cv(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===$a&&a.preventDefault(),t()}},{eventName:mn,fn:t}]}function dv(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};i.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&E(!1);var l=i.touches[0];if(l){var c=l.force>=lv;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:mn,fn:t}]}function uv(e){var t=y.useRef(Pn),r=y.useRef(Je),n=M(function(){return t.current},[]),a=M(function(m){t.current=m},[]),i=H(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var h=e.tryGetLock(g,l,{sourceEvent:m});if(h){var v=m.touches[0],x=v.clientX,w=v.clientY,j={x,y:w};r.current(),p(h,j)}}}}}},[e]),o=M(function(){var m={capture:!0,passive:!1};r.current=ke(window,[i],m)},[i]),l=M(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),a(Pn),r.current(),o())},[o,a]),c=M(function(){var f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),d=M(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:n},h=ke(window,dv(g),m),v=ke(window,cv(g),m);r.current=function(){h(),v()}},[c,n,l]),u=M(function(){var m=n();m.type!=="PENDING"&&E(!1);var g=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:g,hasMoved:!1})},[n,a]),p=M(function(m,g){n().type!=="IDLE"&&E(!1);var h=setTimeout(u,ov);a({type:"PENDING",point:g,actions:m,longPressTimerId:h}),d()},[d,n,a,u]);De(function(){return o(),function(){r.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),a(Pn))}},[n,o,a]),De(function(){var m=ke(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var pv={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Ko(e,t){if(t==null)return!1;var r=!!pv[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Ko(e,t.parentElement)}function fv(e,t){var r=t.target;return pn(r)?Ko(e,r):!1}var mv=function(e){return Me(e.getBoundingClientRect()).center};function gv(e){return e instanceof qo(e).Element}var hv=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=nt(t,function(n){return n in Element.prototype});return r||e}();function _o(e,t){return e==null?null:e[hv](t)?e:_o(e.parentElement,t)}function vv(e,t){return e.closest?e.closest(t):_o(e,t)}function xv(e){return"["+Dt.contextId+'="'+e+'"]'}function yv(e,t){var r=t.target;if(!gv(r))return null;var n=xv(e),a=vv(r,n);return!a||!pn(a)?null:a}function bv(e,t){var r=yv(e,t);return r?r.getAttribute(Dt.draggableId):null}function wv(e,t){var r="["+Xn.contextId+'="'+e+'"]',n=uo(document.querySelectorAll(r)),a=nt(n,function(i){return i.getAttribute(Xn.id)===t});return!a||!pn(a)?null:a}function Nv(e){e.preventDefault()}function gr(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Jo(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!$o(r.getState(),a))}function Sv(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=Jo({lockAPI:t,store:n,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),u=wv(r,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&fv(u,l))return null;var p=t.claim(o||Je),f="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function g(){return t.isActive(p)}function h(b,S){gr({expected:b,phase:f,isLockActive:g,shouldWarn:!0})&&n.dispatch(S())}var v=h.bind(null,"DRAGGING");function x(b){function S(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),f!=="PRE_DRAG"&&E(!1)),n.dispatch(hg(b.liftActionArgs)),f="DRAGGING";function I(O,F){if(F===void 0&&(F={shouldBlockNextClick:!1}),b.cleanup(),F.shouldBlockNextClick){var U=ke(window,[{eventName:"click",fn:Nv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}S(),n.dispatch(ko({reason:O}))}return L({isActive:function(){return gr({expected:"DRAGGING",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(F){return I("DROP",F)},cancel:function(F){return I("CANCEL",F)}},b.actions)}function w(b){var S=Vt(function(O){v(function(){return Po({client:O})})}),I=x({liftActionArgs:{id:i,clientSelection:b,movementMode:"FLUID"},cleanup:function(){return S.cancel()},actions:{move:S}});return L({},I,{move:S})}function j(){var b={moveUp:function(){return v(Dg)},moveRight:function(){return v(Tg)},moveDown:function(){return v(Cg)},moveLeft:function(){return v(Eg)}};return x({liftActionArgs:{id:i,clientSelection:mv(u),movementMode:"SNAP"},cleanup:Je,actions:b})}function C(){var b=gr({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!0});b&&t.release()}var D={isActive:function(){return gr({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:w,snapLift:j,abort:C};return D}var jv=[rv,sv,uv];function Dv(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?jv:[],a||[]),l=y.useState(function(){return Hh()})[0],c=M(function(w,j){w.isDragging&&!j.isDragging&&l.tryAbandon()},[l]);De(function(){var w=r.getState(),j=r.subscribe(function(){var C=r.getState();c(w,C),w=C});return j},[l,r,c]),De(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=M(function(x){return Jo({lockAPI:l,registry:n,store:r,draggableId:x})},[l,n,r]),u=M(function(x,w,j){return Sv({lockAPI:l,registry:n,contextId:t,store:r,draggableId:x,forceSensorStop:w,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null})},[t,l,n,r]),p=M(function(x){return bv(t,x)},[t]),f=M(function(x){var w=n.draggable.findById(x);return w?w.options:null},[n.draggable]),m=M(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Ia()))},[l,r]),g=M(l.isClaimed,[l]),h=H(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}},[d,u,p,f,m,g]),v=0;v<o.length;v++)o[v](h)}var Cv=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Ft(e){return e.current||E(!1),e.current}function Tv(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=y.useRef(null),l=Go(e),c=M(function(){return Cv(l.current)},[l]),d=Lh(t),u=Wh({contextId:t,text:i}),p=Ah(t,a),f=M(function(O){Ft(o).dispatch(O)},[]),m=H(function(){return gi({publishWhileDragging:xg,updateDroppableScroll:bg,updateDroppableIsEnabled:wg,updateDroppableIsCombineEnabled:Ng,collectionStarting:yg},f)},[f]),g=Rh(),h=H(function(){return lh(g,m)},[g,m]),v=H(function(){return Dh(L({scrollWindow:ch,scrollDroppable:h.scrollDroppable},gi({move:Po},f)))},[h.scrollDroppable,f]),x=kh(t),w=H(function(){return ah({announce:d,autoScroller:v,dimensionMarshal:h,focusMarshal:x,getResponders:c,styleMarshal:p})},[d,v,h,x,c,p]);o.current=w;var j=M(function(){var O=Ft(o),F=O.getState();F.phase!=="IDLE"&&O.dispatch(Ia())},[]),C=M(function(){var O=Ft(o).getState();return O.isDragging||O.phase==="DROP_ANIMATING"},[]),D=H(function(){return{isDragging:C,tryAbort:j}},[C,j]);r(D);var b=M(function(O){return $o(Ft(o).getState(),O)},[]),S=M(function(){return dt(Ft(o).getState())},[]),I=H(function(){return{marshal:h,focus:x,contextId:t,canLift:b,isMovementAllowed:S,dragHandleUsageInstructionsId:u,registry:g}},[t,h,u,x,b,S,g]);return Dv({contextId:t,store:w,registry:g,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),y.useEffect(function(){return j},[j]),Q.createElement(fn.Provider,{value:I},Q.createElement(Yp,{context:La,store:w},e.children))}var Ev=0;function Iv(){return H(function(){return""+Ev++},[])}function Av(e){var t=Iv(),r=e.dragHandleUsageInstructions||Nr.dragHandleUsageInstructions;return Q.createElement(sm,null,function(n){return Q.createElement(Tv,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Xo=function(t){return function(r){return t===r}},Pv=Xo("scroll"),kv=Xo("auto"),Yi=function(t,r){return r(t.overflowX)||r(t.overflowY)},Ov=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Yi(n,Pv)||Yi(n,kv)},Rv=function(){return!1},Mv=function e(t){return t==null?null:t===document.body?Rv()?t:null:t===document.documentElement?null:Ov(t)?t:e(t.parentElement)},Qn=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bv=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Lv=function(e){var t=Mv(e),r=Bv(e);return{closestScrollable:t,isFixedOnPage:r}},Fv=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,g=c.client,h=Bo({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:h,diff:{value:de,displacement:de}}}}(),u=i==="vertical"?ja:ho,p=St({page:l,withPlaceholder:null,axis:u,frame:d}),f={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:o,page:l,frame:d,subject:p};return f},$v=function(t,r){var n=io(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=ya(c,n.border),u=ba({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},Uv=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,u=$v(t,d),p=Pr(u,a),f=function(){if(!d)return null;var g=io(d),h={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Pr(g,a),scroll:Qn(d),scrollSize:h,shouldClipSubject:c}}(),m=Fv({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:p,closest:f});return m},Wv={passive:!1},Hv={passive:!0},Ki=function(e){return e.shouldPublishImmediately?Wv:Hv};function Lr(e){var t=y.useContext(e);return t||E(!1),t}var hr=function(t){return t&&t.env.closestScrollable||null};function qv(e){var t=y.useRef(null),r=Lr(fn),n=Fa("droppable"),a=r.registry,i=r.marshal,o=Go(e),l=H(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=y.useRef(l),d=H(function(){return ce(function(C,D){t.current||E(!1);var b={x:C,y:D};i.updateDroppableScroll(l.id,b)})},[l.id,i]),u=M(function(){var C=t.current;return!C||!C.env.closestScrollable?de:Qn(C.env.closestScrollable)},[]),p=M(function(){var C=u();d(C.x,C.y)},[u,d]),f=H(function(){return Vt(p)},[p]),m=M(function(){var C=t.current,D=hr(C);C&&D||E(!1);var b=C.scrollOptions;if(b.shouldPublishImmediately){p();return}f()},[f,p]),g=M(function(C,D){t.current&&E(!1);var b=o.current,S=b.getDroppableRef();S||E(!1);var I=Lv(S),O={ref:S,descriptor:l,env:I,scrollOptions:D};t.current=O;var F=Uv({ref:S,descriptor:l,env:I,windowScroll:C,direction:b.direction,isDropDisabled:b.isDropDisabled,isCombineEnabled:b.isCombineEnabled,shouldClipSubject:!b.ignoreContainerClipping}),U=I.closestScrollable;return U&&(U.setAttribute(qi.contextId,r.contextId),U.addEventListener("scroll",m,Ki(O.scrollOptions))),F},[r.contextId,l,m,o]),h=M(function(){var C=t.current,D=hr(C);return C&&D||E(!1),Qn(D)},[]),v=M(function(){var C=t.current;C||E(!1);var D=hr(C);t.current=null,D&&(f.cancel(),D.removeAttribute(qi.contextId),D.removeEventListener("scroll",m,Ki(C.scrollOptions)))},[m,f]),x=M(function(C){var D=t.current;D||E(!1);var b=hr(D);b||E(!1),b.scrollTop+=C.y,b.scrollLeft+=C.x},[]),w=H(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:h,dragStopped:v,scroll:x}},[v,g,h,x]),j=H(function(){return{uniqueId:n,descriptor:l,callbacks:w}},[w,l,n]);De(function(){return c.current=j.descriptor,a.droppable.register(j),function(){t.current&&v(),a.droppable.unregister(j)}},[w,l,v,j,i,a.droppable]),De(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),De(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function kn(){}var _i={width:0,height:0,margin:pm},Gv=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?_i:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},zv=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=Gv({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?qt.placeholder:null}};function Vv(e){var t=y.useRef(null),r=M(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=y.useState(e.animate==="open"),c=l[0],d=l[1];y.useEffect(function(){return c?n!=="open"?(r(),d(!1),kn):t.current?kn:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):kn},[n,c,r]);var u=M(function(f){f.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),p=zv({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Q.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var Yv=Q.memo(Vv),Ua=Q.createContext(null),Kv=function(e){Fs(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Q.PureComponent),Ji={dragging:5e3,dropAnimating:4500},_v=function(t,r){return r?qt.drop(r.duration):t?qt.snap:qt.fluid},Jv=function(t,r){return t?r?Jt.opacity.drop:Jt.opacity.combining:null},Xv=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Qv(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=Xv(e),c=!!i,d=c?_n.drop(n,o):_n.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:_v(l,i),transform:d,opacity:Jv(o,c),zIndex:c?Ji.dropAnimating:Ji.dragging,pointerEvents:"none"};return u}function Zv(e){return{transform:_n.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function e0(e){return e.type==="DRAGGING"?Qv(e):Zv(e)}function t0(e,t,r){r===void 0&&(r=de);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=ao(a,n),o=Pr(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function r0(e){var t=Fa("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=H(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=M(function(m){var g=a();return g||E(!1),t0(r,g,m)},[r,a]),u=H(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),p=y.useRef(u),f=y.useRef(!0);De(function(){return n.draggable.register(p.current),function(){return n.draggable.unregister(p.current)}},[n.draggable]),De(function(){if(f.current){f.current=!1;return}var m=p.current;p.current=u,n.draggable.update(u,m)},[u,n.draggable])}function n0(e){e.preventDefault()}function a0(e){var t=y.useRef(null),r=M(function(O){t.current=O},[]),n=M(function(){return t.current},[]),a=Lr(fn),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Lr(Ua),d=c.type,u=c.droppableId,p=H(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),f=e.children,m=e.draggableId,g=e.isEnabled,h=e.shouldRespectForcePress,v=e.canDragInteractiveElements,x=e.isClone,w=e.mapped,j=e.dropAnimationFinished;if(!x){var C=H(function(){return{descriptor:p,registry:l,getDraggableRef:n,canDragInteractiveElements:v,shouldRespectForcePress:h,isEnabled:g}},[p,l,n,v,h,g]);r0(C)}var D=H(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:n0}:null},[i,o,m,g]),b=M(function(O){w.type==="DRAGGING"&&w.dropping&&O.propertyName==="transform"&&j()},[j,w]),S=H(function(){var O=e0(w),F=w.type==="DRAGGING"&&w.dropping?b:null,U={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:O,onTransitionEnd:F},dragHandleProps:D};return U},[i,D,m,w,b,r]),I=H(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return f(S,w.snapshot,I)}var Qo=function(e,t){return e===t},Zo=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},i0=function(t){return t.combine?t.combine.draggableId:null},s0=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function o0(){var e=ce(function(a,i){return{x:a,y:i}}),t=ce(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=ce(function(a,i,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=je(i.impact),u=s0(i.impact),p=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,d,u,p)}if(i.phase==="DROP_ANIMATING"){var f=i.completed;if(f.result.draggableId!==o.draggableId)return null;var m=o.isClone,g=i.dimensions.draggables[o.draggableId],h=f.result,v=h.mode,x=Zo(h),w=i0(h),j=i.dropDuration,C={duration:j,curve:Pa.drop,moveTo:i.newHomeClientOffset,opacity:w?Jt.opacity.drop:null,scale:w?Jt.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:g,dropping:C,draggingOver:x,combineWith:w,mode:v,forceShouldAnimate:null,snapshot:t(v,m,x,w,C)}}}return null};return n}function el(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var l0={mapped:{type:"SECONDARY",offset:de,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:el(null)}};function c0(){var e=ce(function(o,l){return{x:o,y:l}}),t=ce(el),r=ce(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(de,l,!0):null},a=function(l,c,d,u){var p=d.displaced.visible[l],f=!!(u.inVirtualList&&u.effected[l]),m=cn(d),g=m&&m.draggableId===l?c:null;if(!p){if(!f)return n(g);if(d.displaced.invisible[l])return null;var h=Et(u.displacedBy.point),v=e(h.x,h.y);return r(v,g,!0)}if(f)return n(g);var x=d.displacedBy.point,w=e(x.x,x.y);return r(w,g,p.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var d0=function(){var t=o0(),r=c0(),n=function(i,o){return t(i,o)||r(i,o)||l0};return n},u0={dropAnimationFinished:Oo},p0=ro(d0,u0,null,{context:La,pure:!0,areStatePropsEqual:Qo})(a0);function tl(e){var t=Lr(Ua),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Q.createElement(p0,e)}function f0(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Q.createElement(tl,L({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function m0(e){var t=y.useContext(fn);t||E(!1);var r=t.contextId,n=t.isMovementAllowed,a=y.useRef(null),i=y.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,p=e.ignoreContainerClipping,f=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,h=e.useClone,v=e.updateViewportMaxScroll,x=e.getContainerForClone,w=M(function(){return a.current},[]),j=M(function(U){a.current=U},[]);M(function(){return i.current},[]);var C=M(function(U){i.current=U},[]),D=M(function(){n()&&v({maxScroll:Fo()})},[n,v]);qv({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:p,getDroppableRef:w});var b=Q.createElement(Kv,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(U){var ne=U.onClose,se=U.data,_=U.animate;return Q.createElement(Yv,{placeholder:se,onClose:ne,innerRef:C,animate:_,contextId:r,onTransitionEnd:D})}),S=H(function(){return{innerRef:j,placeholder:b,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,b,j]),I=h?h.dragging.draggableId:null,O=H(function(){return{droppableId:l,type:c,isUsingCloneFor:I}},[l,I,c]);function F(){if(!h)return null;var U=h.dragging,ne=h.render,se=Q.createElement(tl,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(_,z){return ne(_,z,U)});return cl.createPortal(se,x())}return Q.createElement(Ua.Provider,{value:O},o(S,g),F())}var On=function(t,r){return t===r.droppable.type},Xi=function(t,r){return r.draggables[t.draggable.id]},g0=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=L({},t,{shouldAnimatePlaceholder:!1}),n=ce(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=ce(function(o,l,c,d,u,p){var f=u.descriptor.id,m=u.descriptor.droppableId===o;if(m){var g=p?{render:p,dragging:n(u.descriptor)}:null,h={isDraggingOver:c,draggingOverWith:c?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:g}}if(!l)return r;if(!d)return t;var v={isDraggingOver:c,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),i=function(l,c){var d=c.droppableId,u=c.type,p=!c.isDropDisabled,f=c.renderClone;if(l.isDragging){var m=l.critical;if(!On(u,m))return r;var g=Xi(m,l.dimensions),h=je(l.impact)===d;return a(d,p,h,h,g,f)}if(l.phase==="DROP_ANIMATING"){var v=l.completed;if(!On(u,v.critical))return r;var x=Xi(v.critical,l.dimensions);return a(d,p,Zo(v.result)===d,je(v.impact)===d,x,f)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var w=l.completed;if(!On(u,w.critical))return r;var j=je(w.impact)===d,C=!!(w.impact.at&&w.impact.at.type==="COMBINE"),D=w.critical.droppable.id===d;return j?C?t:r:D?t:r}return r};return i},h0={updateViewportMaxScroll:jg};function v0(){return document.body||E(!1),document.body}var x0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:v0},rl=ro(g0,h0,null,{context:La,pure:!0,areStatePropsEqual:Qo})(m0);rl.defaultProps=x0;function y0({task:e,onComplete:t,onEdit:r,onDelete:n,onUncomplete:a,isDragging:i}){const[o,l]=y.useState(!1),c=()=>{e.completed&&a?a(e.id):t(e.id)},d=p=>{const f={health:"bg-green-500/20 text-green-400 border-green-500/30",work:"bg-blue-500/20 text-blue-400 border-blue-500/30",personal:"bg-purple-500/20 text-purple-400 border-purple-500/30",fitness:"bg-orange-500/20 text-orange-400 border-orange-500/30",default:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return f[p]||f.default},u=p=>p==="habit"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";return s.jsx(B.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.02},className:`relative group transition-all duration-300 ${i?"dragging":""} ${e.completed?"opacity-75 task-card-completed":"hover:shadow-xl hover:shadow-cyan-500/10 hover:border-cyan-500/30 task-card"}`,children:s.jsxs("div",{className:"relative flex items-start justify-between p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsx("button",{onClick:c,className:`mt-1 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 group/btn ${e.completed?"bg-gradient-to-r from-green-500 to-emerald-600 border-green-500 text-white shadow-lg shadow-green-500/30 hover:from-green-400 hover:to-emerald-500":"border-gray-500 hover:border-cyan-400 hover:bg-cyan-500/10 hover:shadow-lg hover:shadow-cyan-500/20"}`,title:e.completed?"Click to mark as incomplete":"Click to mark as complete","aria-label":e.completed?"Mark as incomplete":"Mark as complete",children:e.completed?s.jsxs(B.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},className:"relative",children:[s.jsx(es,{className:"w-3 h-3"}),s.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full opacity-0 group-hover/btn:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(Mn,{className:"w-3 h-3 text-yellow-400"})})]}):null}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:`font-medium transition-all duration-300 ${e.completed?"line-through text-gray-500":"text-gray-100 group-hover:text-cyan-100"}`,children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${d(e.category)}`,children:e.category}),e.startTime&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-300",children:[s.jsx(Xt,{className:"w-4 h-4"}),s.jsx("span",{children:R(new Date(`2000-01-01T${e.startTime}`),"h:mm a")})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${u(e.type)}`,children:[e.type==="habit"&&s.jsx(ts,{className:"w-3 h-3 mr-1"}),e.type]})]})]})]}),s.jsxs("div",{className:"relative",style:{zIndex:200},children:[s.jsx("button",{onClick:()=>l(!o),className:"p-2 rounded-lg hover:bg-gray-700/50 opacity-0 group-hover:opacity-100 transition-all duration-300 text-gray-400 hover:text-gray-200",style:{zIndex:201},"aria-label":"Task options",children:s.jsx(vl,{className:"w-4 h-4"})}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0",style:{zIndex:150},onClick:()=>l(!1)}),s.jsxs(B.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-10 w-40 task-menu",children:[e.completed&&a&&s.jsxs("button",{onClick:()=>{a(e.id),l(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-sm text-yellow-400 hover:bg-yellow-500/20 hover:text-yellow-300 transition-colors rounded-lg",children:[s.jsx(Mn,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Incomplete"})]}),s.jsxs("button",{onClick:()=>{r(e),l(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-200 hover:bg-gray-700/70 hover:text-cyan-400 transition-colors rounded-lg",children:[s.jsx(xl,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>{n(e.id),l(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-sm text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-colors rounded-lg",children:[s.jsx(yl,{className:"w-4 h-4"}),s.jsx("span",{children:"Delete"})]})]})]})]})]})})}function b0({tasks:e,onTasksReorder:t,onCompleteTask:r,onUncompleteTask:n,onEditTask:a,onDeleteTask:i}){const[o,l]=y.useState(null),[c,d]=y.useState(window.innerWidth<768);window.addEventListener("resize",()=>{d(window.innerWidth<768)});const u=h=>{if(l(null),!h.destination)return;const v=Array.from(e),[x]=v.splice(h.source.index,1);v.splice(h.destination.index,0,x),t(v)},p=h=>{l(h.draggableId)},f=[],m=6,g=23;for(let h=m;h<=g;h++){const v=new Date;v.setHours(h,0,0,0),f.push(R(v,"h:mm a"))}return s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"Today's Schedule"}),s.jsx("div",{className:"text-sm text-gray-300 hidden md:block",children:"Drag and drop to reorder tasks"})]}),s.jsx(Av,{onDragEnd:u,onDragStart:p,children:s.jsxs("div",{className:c?"space-y-3":"grid grid-cols-12 gap-4",children:[!c&&s.jsx("div",{className:"col-span-2 space-y-4",children:f.map(h=>s.jsx("div",{className:"h-20 flex items-center",children:s.jsx("span",{className:"text-sm text-gray-400 font-medium",children:h})},h))}),s.jsx("div",{className:c?"w-full":"col-span-10",children:s.jsx(rl,{droppableId:"tasks",children:(h,v)=>s.jsxs("div",{...h.droppableProps,ref:h.innerRef,className:`space-y-3 min-h-96 p-4 rounded-lg transition-colors ${v.isDraggingOver?"drop-zone":"bg-gray-800/20"}`,children:[e.map((x,w)=>s.jsx(f0,{draggableId:x.id,index:w,children:(j,C)=>s.jsx("div",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,children:s.jsx(y0,{task:x,onComplete:r,onUncomplete:n,onEdit:a,onDelete:i,isDragging:C.isDragging||o===x.id})})},x.id)),h.placeholder,e.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("p",{className:"text-gray-300",children:"No tasks scheduled for today."}),s.jsx("p",{className:"text-sm mt-1 text-gray-400",children:"Add some tasks to get started!"})]})]})})})]})})]})}function Zn({title:e,completed:t,total:r,color:n="bg-gradient-to-r from-cyan-500 to-blue-600"}){const a=r>0?t/r*100:0;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-200",children:e}),s.jsxs("span",{className:"text-sm text-gray-400",children:[t,"/",r]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-3 overflow-hidden",children:s.jsx(B.div,{className:`h-3 rounded-full ${n} relative overflow-hidden`,initial:{width:0},animate:{width:`${a}%`},transition:{duration:.8,ease:"easeOut"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),s.jsx(B.div,{className:`absolute top-0 h-3 rounded-full ${n} opacity-50 blur-sm`,initial:{width:0},animate:{width:`${a}%`},transition:{duration:.8,ease:"easeOut",delay:.1}})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:[a.toFixed(0),"% complete"]}),a===100&&s.jsx(B.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"text-cyan-400 font-medium",children:"✨ Perfect!"})]})]})}function Pt({size:e="md",className:t=""}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return s.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary-600 ${r[e]} ${t}`})}function w0(){const[e,t]=y.useState([]),{data:r,isLoading:n}=Nt({queryKey:["ai-recommendations"],queryFn:gu.getRecommendations,refetchInterval:5*60*1e3}),a=(r==null?void 0:r.filter(c=>!e.includes(c.id)))||[],i=c=>{t(d=>[...d,c]),"navigator"in window&&"vibrate"in navigator&&navigator.vibrate(50)},o=c=>{switch(c){case"suggestion":return s.jsx(wl,{className:"w-5 h-5"});case"encouragement":return s.jsx(bl,{className:"w-5 h-5"});case"tip":return s.jsx(aa,{className:"w-5 h-5"});default:return s.jsx(le,{className:"w-5 h-5"})}},l=c=>{switch(c){case"suggestion":return"bg-blue-500/20 border-blue-500/30 text-blue-400";case"encouragement":return"bg-green-500/20 border-green-500/30 text-green-400";case"tip":return"bg-purple-500/20 border-purple-500/30 text-purple-400";default:return"bg-gray-500/20 border-gray-500/30 text-gray-400"}};return n?s.jsxs("div",{className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(le,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 neon-text",children:"AI Insights"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Analyzing your patterns..."})]})]}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(Pt,{})})]}):a.length===0?s.jsxs("div",{className:"card holographic",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(le,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 neon-text",children:"AI Insights"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Neural network ready"})]})]}),s.jsx("div",{className:"mt-4 p-4 rounded-xl bg-gray-800/30 border border-gray-700/50",children:s.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Complete more tasks to unlock personalized AI recommendations! 🚀"})})]}):s.jsxs("div",{className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(le,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 neon-text",children:"AI Insights"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Powered by neural networks"})]}),s.jsx(re,{className:"w-4 h-4 text-cyan-400 animate-neon-flicker ml-auto"})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(Le,{children:a.map((c,d)=>s.jsxs(B.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{delay:d*.1},className:`p-4 rounded-xl border relative overflow-hidden ${l(c.type)}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),s.jsx("button",{onClick:()=>i(c.id),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/20 transition-colors z-10","aria-label":"Dismiss",children:s.jsx(Ze,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-start space-x-3 pr-6 relative z-10",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o(c.type)}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-medium leading-relaxed",children:c.message})})]})]},c.id))})})]})}function N0({task:e,isOpen:t,onClose:r,onSave:n}){const[a,i]=y.useState({title:"",category:"personal",startTime:"",duration:30,scheduledDate:R(new Date,"yyyy-MM-dd")}),[o,l]=y.useState(window.innerWidth<768);y.useEffect(()=>{const p=()=>{l(window.innerWidth<768)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),y.useEffect(()=>{e&&i({title:e.title,category:e.category,startTime:e.startTime||"",duration:e.duration||30,scheduledDate:e.scheduledDate||R(new Date,"yyyy-MM-dd")})},[e]);const c=p=>{p.preventDefault(),e&&(n(e.id,a),r())},d=[{value:"health",label:"Health",color:"bg-green-500/20 text-green-400 border-green-500/30"},{value:"work",label:"Work",color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},{value:"personal",label:"Personal",color:"bg-purple-500/20 text-purple-400 border-purple-500/30"},{value:"fitness",label:"Fitness",color:"bg-orange-500/20 text-orange-400 border-orange-500/30"}],u=[{label:"Today",value:R(new Date,"yyyy-MM-dd")},{label:"Tomorrow",value:R(Z(new Date,1),"yyyy-MM-dd")},{label:"This Weekend",value:R(Z(new Date,6-new Date().getDay()),"yyyy-MM-dd")},{label:"Next Week",value:R(Z(new Date,7),"yyyy-MM-dd")}];return s.jsx(Le,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:r}),s.jsxs(B.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative card ai-glow w-full max-w-md mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(re,{className:"w-4 h-4 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100 neon-text",children:"Edit Task"})]}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-700 transition-colors text-gray-400 hover:text-gray-200","aria-label":"Close",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Task Title"}),s.jsx("input",{type:"text",value:a.title,onChange:p=>i({...a,title:p.target.value}),className:`w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent ${o?"text-base":""}`,placeholder:"Enter task title...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),s.jsx("div",{className:`grid ${o?"grid-cols-2 gap-2":"grid-cols-4 gap-3"}`,children:d.map(p=>s.jsx("button",{type:"button",onClick:()=>i({...a,category:p.value}),className:`p-3 rounded-lg border-2 transition-all ${a.category===p.value?`${p.color} border-current`:"border-gray-600 text-gray-400 hover:border-gray-500 hover:text-gray-300"} ${o?"text-sm":""}`,children:p.label},p.value))})]}),s.jsxs("div",{className:`grid ${o?"grid-cols-1 gap-4":"grid-cols-2 gap-4"}`,children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(Xt,{className:"inline w-4 h-4 mr-2"}),"Start Time"]}),s.jsx("input",{type:"time",value:a.startTime,onChange:p=>i({...a,startTime:p.target.value}),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (minutes)"}),s.jsx("input",{type:"number",value:a.duration,onChange:p=>i({...a,duration:parseInt(p.target.value)||30}),min:"5",max:"480",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(et,{className:"inline w-4 h-4 mr-2"}),"Scheduled Date"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"date",value:a.scheduledDate,onChange:p=>i({...a,scheduledDate:p.target.value}),className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),s.jsx("div",{className:`flex ${o?"flex-wrap gap-2":"space-x-2"}`,children:u.map(p=>s.jsx("button",{type:"button",onClick:()=>i({...a,scheduledDate:p.value}),className:`px-3 py-2 text-xs rounded-lg border transition-colors ${a.scheduledDate===p.value?"border-cyan-500 text-cyan-400 bg-cyan-500/20":"border-gray-600 text-gray-400 hover:border-gray-500 hover:text-gray-300"}`,children:p.label},p.value))})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-700/50",children:s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 rounded-lg border border-gray-600 text-gray-300 hover:bg-gray-700/50 transition-colors ${o?"flex-1":""}`,children:"Cancel"}),s.jsx("button",{onClick:c,className:`btn-primary ${o?"flex-1 py-3 text-base font-medium":""}`,children:o?"💾 Save Changes":"Save Changes"})]})}),s.jsx("div",{className:"h-24"})]})})]})]})})}function S0({show:e,onComplete:t}){const[r,n]=y.useState([]);return y.useEffect(()=>{if(e){const a=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],i=Array.from({length:20},(l,c)=>({id:c,x:Math.random()*100,y:Math.random()*100,color:a[Math.floor(Math.random()*a.length)],rotation:Math.random()*360}));n(i);const o=setTimeout(()=>{t()},2e3);return()=>clearTimeout(o)}},[e,t]),s.jsx(Le,{children:e&&s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:r.map(a=>s.jsx(B.div,{initial:{x:"50vw",y:"50vh",scale:0,rotate:0},animate:{x:`${a.x}vw`,y:`${a.y}vh`,scale:[0,1,0],rotate:a.rotation},exit:{opacity:0},transition:{duration:2,ease:"easeOut"},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:a.color}},a.id))})})}function j0(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,i]=y.useState(new Set),o=y.useRef(a);y.useEffect(()=>{o.current=a},[a]);const{data:l=[]}=Nt({queryKey:["tasks"],queryFn:()=>Re.getTasks(),refetchInterval:6e4});y.useEffect(()=>{const u=new Date,p=u.getHours()*60+u.getMinutes(),f=[],m=[];l.forEach(g=>{if(g.startTime&&!g.completed){const[h,v]=g.startTime.split(":").map(Number),w=h*60+v-p;w>0&&w<=15&&f.push({id:`upcoming-${g.id}`,taskTitle:g.title,time:g.startTime,type:"upcoming"}),w<-30&&!g.overdueNotified&&!o.current.has(g.id)&&(f.push({id:`overdue-${g.id}`,taskTitle:g.title,time:g.startTime,type:"overdue"}),m.push(g.id))}}),t(f.filter(g=>!r.includes(g.id))),m.length>0&&(fe.patch("/tasks/overdue-notified",{taskIds:m}),i(g=>{const h=new Set(g);return m.forEach(v=>h.add(v)),h}))},[l,r]);const c=u=>{n(p=>[...p,u])},d=e.filter(u=>!r.includes(u.id));return d.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 z-40 space-y-2",children:s.jsx(Le,{children:d.map(u=>s.jsx(B.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:`p-4 rounded-lg shadow-lg border-l-4 bg-white max-w-sm ${u.type==="upcoming"?"border-l-blue-500":"border-l-red-500"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${u.type==="upcoming"?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:u.type==="upcoming"?s.jsx(Bn,{className:"w-4 h-4"}):s.jsx(Xt,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:u.type==="upcoming"?"Coming Up":"Overdue"}),s.jsx("p",{className:"text-gray-700 text-sm",children:u.taskTitle}),s.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Scheduled for ",u.time]})]})]}),s.jsx("button",{onClick:()=>c(u.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(Ze,{className:"w-4 h-4 text-gray-400"})})]})},u.id))})})}class ea{constructor(){ot(this,"speechSynthesis");ot(this,"state",{isSpeaking:!1,currentText:"",progress:0,availableVoices:[]});ot(this,"listeners",[]);this.speechSynthesis=window.speechSynthesis,this.initializeVoices()}initializeVoices(){const t=()=>{this.state.availableVoices=this.speechSynthesis.getVoices(),this.notifyListeners()};this.speechSynthesis.onvoiceschanged!==void 0&&(this.speechSynthesis.onvoiceschanged=t),t()}speak(t,r={}){this.stop();const n=new SpeechSynthesisUtterance(t);if(r.voice){const a=this.state.availableVoices.find(i=>i.name===r.voice);a&&(n.voice=a)}n.rate=r.rate||1,n.pitch=r.pitch||1,n.volume=r.volume||1,n.onstart=()=>{this.state.isSpeaking=!0,this.state.currentText=t,this.state.progress=0,this.notifyListeners()},n.onend=()=>{this.state.isSpeaking=!1,this.state.currentText="",this.state.progress=100,this.notifyListeners()},n.onpause=()=>{this.state.isSpeaking=!1,this.notifyListeners()},n.onresume=()=>{this.state.isSpeaking=!0,this.notifyListeners()},n.onerror=a=>{console.error("TTS Error:",a),this.state.isSpeaking=!1,this.state.currentText="",this.notifyListeners()},this.speechSynthesis.speak(n)}pause(){this.speechSynthesis.speaking&&this.speechSynthesis.pause()}resume(){this.speechSynthesis.paused&&this.speechSynthesis.resume()}stop(){(this.speechSynthesis.speaking||this.speechSynthesis.paused)&&(this.speechSynthesis.cancel(),this.state.isSpeaking=!1,this.state.currentText="",this.state.progress=0,this.notifyListeners())}getVoices(){return this.state.availableVoices}getState(){return{...this.state}}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.getState()))}static isSupported(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}getDefaultVoice(){const t=navigator.language||"en-US";return this.state.availableVoices.find(r=>r.lang.startsWith(t.split("-")[0]))||this.state.availableVoices[0]||null}}const Ke=new ea;function Wa(){const[e,t]=y.useState(Ke.getState());y.useEffect(()=>Ke.subscribe(t),[]);const r=y.useCallback((d,u)=>{if(!ea.isSupported()){console.warn("TTS is not supported in this browser");return}Ke.speak(d,u)},[]),n=y.useCallback(()=>{Ke.pause()},[]),a=y.useCallback(()=>{Ke.resume()},[]),i=y.useCallback(()=>{Ke.stop()},[]),o=y.useCallback(()=>Ke.getVoices(),[]),l=y.useCallback(()=>Ke.getDefaultVoice(),[]),c=ea.isSupported();return{isSpeaking:e.isSpeaking,currentText:e.currentText,progress:e.progress,availableVoices:e.availableVoices,speak:r,pause:n,resume:a,stop:i,getVoices:o,getDefaultVoice:l,isSupported:c}}function D0({ttsEnabled:e,onTTSEnabledChange:t,selectedVoice:r,onVoiceChange:n,autoSpeakResults:a,onAutoSpeakChange:i,rate:o,onRateChange:l,onTestVoice:c}){const{isSupported:d,availableVoices:u,getDefaultVoice:p}=Wa(),[f,m]=y.useState(!1);y.useEffect(()=>{if(!r&&u.length>0){const h=p();h&&n(h.name)}},[u,r,n,p]);const g=()=>{c&&c()};return d?s.jsxs("div",{className:"tts-controls bg-gray-800/50 rounded-xl p-4 border border-cyan-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(ia,{className:"w-3 h-3 text-white"})}),s.jsx("h4",{className:"text-sm font-medium text-gray-200",children:"Voice Assistant"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(!f),className:"p-1 rounded hover:bg-gray-700 transition-colors",children:s.jsx(Fr,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:h=>t(h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-9 h-5 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-cyan-500"})]})]})]}),f&&e&&s.jsxs("div",{className:"space-y-4 pt-3 border-t border-gray-700/50",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-2",children:"Voice"}),s.jsx("select",{value:r,onChange:h=>n(h.target.value),className:"input-field text-sm w-full",children:u.map(h=>s.jsxs("option",{value:h.name,children:[h.name," (",h.lang,")"]},h.name))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-400 block mb-2",children:["Speech Rate: ",o,"x"]}),s.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:o,onChange:h=>l(parseFloat(h.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"Slow"}),s.jsx("span",{children:"Normal"}),s.jsx("span",{children:"Fast"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:a,onChange:h=>i(h.target.checked),className:"w-4 h-4 text-cyan-500 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500 focus:ring-2"}),s.jsx("label",{className:"text-xs text-gray-400",children:"Auto-speak analysis results"})]}),s.jsxs("button",{onClick:g,className:"btn-secondary text-xs w-full flex items-center justify-center space-x-2",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{children:"Test Voice"})]})]}),!f&&e&&s.jsxs("div",{className:"text-xs text-gray-400",children:[r&&s.jsxs("p",{children:["Voice: ",r]}),a&&s.jsx("p",{children:"Auto-speak: Enabled"})]})]}):s.jsxs("div",{className:"p-4 rounded-xl bg-yellow-500/10 border border-yellow-500/30",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rs,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-sm text-yellow-400 font-medium",children:"TTS Not Supported"})]}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Text-to-speech is not supported in your browser. Try using Chrome, Safari, or Edge."})]})}function C0({suggestions:e,onSpeakResults:t,className:r=""}){const{isSpeaking:n,pause:a,resume:i,stop:o}=Wa();return s.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[n?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:a,className:"btn-secondary text-xs flex items-center space-x-1",children:[s.jsx(Nl,{className:"w-3 h-3"}),s.jsx("span",{children:"Pause"})]}),s.jsxs("button",{onClick:i,className:"btn-secondary text-xs flex items-center space-x-1",children:[s.jsx(Sl,{className:"w-3 h-3"}),s.jsx("span",{children:"Resume"})]}),s.jsxs("button",{onClick:o,className:"btn-secondary text-xs flex items-center space-x-1",children:[s.jsx(as,{className:"w-3 h-3"}),s.jsx("span",{children:"Stop"})]})]}):s.jsxs("button",{onClick:t,className:"btn-secondary text-xs flex items-center space-x-1",disabled:e.length===0,children:[s.jsx(ia,{className:"w-3 h-3"}),s.jsx("span",{children:"Speak Results"})]}),n&&s.jsxs("div",{className:"flex items-center space-x-1 text-cyan-400",children:[s.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs",children:"Speaking..."})]})]})}class ta{constructor(){ot(this,"recognition",null);ot(this,"state",{isListening:!1,isSupported:!1,transcript:"",interimTranscript:"",confidence:0,error:null});ot(this,"listeners",[]);this.initializeRecognition()}initializeRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.state.isSupported=!0,this.setupEventHandlers()):(this.state.isSupported=!1,this.state.error="Speech recognition is not supported in this browser"),this.notifyListeners()}setupEventHandlers(){this.recognition&&(this.recognition.onstart=()=>{this.state.isListening=!0,this.state.error=null,this.notifyListeners()},this.recognition.onend=()=>{this.state.isListening=!1,this.notifyListeners()},this.recognition.onresult=t=>{let r="",n="",a=0;for(let i=t.resultIndex;i<t.results.length;i++){const o=t.results[i][0].transcript;t.results[i].isFinal?(r+=o,a=Math.max(a,t.results[i][0].confidence)):n+=o}this.state.transcript=r,this.state.interimTranscript=n,this.state.confidence=a,this.notifyListeners()},this.recognition.onerror=t=>{this.state.isListening=!1,this.state.error=this.getErrorMessage(t.error),this.notifyListeners()},this.recognition.onnomatch=()=>{this.state.isListening=!1,this.state.error="No speech was recognized",this.notifyListeners()})}getErrorMessage(t){switch(t){case"no-speech":return"No speech was detected";case"audio-capture":return"Audio capture failed";case"not-allowed":return"Microphone access denied";case"network":return"Network error occurred";case"service-not-allowed":return"Speech recognition service not allowed";case"bad-grammar":return"Bad grammar in speech";case"language-not-supported":return"Language not supported";default:return`Speech recognition error: ${t}`}}start(t={}){if(!this.recognition||!this.state.isSupported)throw new Error("Speech recognition is not supported");this.state.transcript="",this.state.interimTranscript="",this.state.confidence=0,this.state.error=null,this.recognition.lang=t.language||navigator.language||"en-US",this.recognition.continuous=t.continuous||!1,this.recognition.interimResults=t.interimResults||!0,this.recognition.maxAlternatives=t.maxAlternatives||1;try{this.recognition.start()}catch(r){throw this.state.error=`Failed to start speech recognition: ${r}`,this.notifyListeners(),r}}stop(){this.recognition&&this.state.isListening&&this.recognition.stop()}abort(){this.recognition&&this.state.isListening&&this.recognition.abort()}clear(){this.state.transcript="",this.state.interimTranscript="",this.state.confidence=0,this.state.error=null,this.notifyListeners()}getState(){return{...this.state}}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.getState()))}static isSupported(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)}static getAvailableLanguages(){return["en-US","en-GB","en-AU","en-CA","es-ES","es-MX","fr-FR","fr-CA","de-DE","it-IT","pt-BR","pt-PT","ja-JP","ko-KR","zh-CN","zh-TW","ru-RU","ar-SA","hi-IN","nl-NL"]}}const wt=new ta;function T0(){const[e,t]=y.useState(wt.getState());y.useEffect(()=>wt.subscribe(t),[]);const r=y.useCallback(l=>{if(!ta.isSupported()){console.warn("Speech recognition is not supported in this browser");return}try{wt.start(l)}catch(c){console.error("Failed to start speech recognition:",c)}},[]),n=y.useCallback(()=>{wt.stop()},[]),a=y.useCallback(()=>{wt.abort()},[]),i=y.useCallback(()=>{wt.clear()},[]),o=y.useCallback(()=>ta.getAvailableLanguages(),[]);return{isListening:e.isListening,isSupported:e.isSupported,transcript:e.transcript,interimTranscript:e.interimTranscript,confidence:e.confidence,error:e.error,startListening:r,stopListening:n,abortListening:a,clearTranscript:i,getAvailableLanguages:o}}function E0({onTranscriptChange:e,placeholder:t="Speak to describe your tasks...",disabled:r=!1,className:n=""}){const{isListening:a,isSupported:i,transcript:o,interimTranscript:l,confidence:c,error:d,startListening:u,stopListening:p,clearTranscript:f,getAvailableLanguages:m}=T0(),[g,h]=y.useState("en-US"),[v,x]=y.useState(!1);y.useEffect(()=>{o&&e(o)},[o,e]);const w=()=>{r||u({language:g,continuous:!1,interimResults:!0,maxAlternatives:1})},j=()=>{p()},C=()=>{f(),e("")},D=S=>S>.8?"text-green-400":S>.6?"text-yellow-400":"text-red-400",b=S=>S>.8?"Excellent":S>.6?"Good":S>.4?"Fair":"Poor";return i?s.jsxs("div",{className:`space-y-3 ${n}`,children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:o||l,onChange:S=>e(S.target.value),placeholder:t,className:"input-field min-h-32 resize-none holographic text-gray-100 placeholder-gray-400 pr-20",disabled:r||a}),s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[d&&s.jsx("div",{className:"text-xs text-red-400 bg-red-500/20 px-2 py-1 rounded",children:d}),c>0&&s.jsxs("div",{className:`text-xs px-2 py-1 rounded ${D(c)} bg-gray-800/50`,children:[b(c)," (",Math.round(c*100),"%)"]}),s.jsx("button",{onClick:()=>x(!v),className:"p-1 rounded hover:bg-gray-700 transition-colors text-gray-400 hover:text-gray-200",children:s.jsx(Fr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"flex items-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsxs(B.button,{onClick:j,className:"btn-secondary flex items-center space-x-2",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:[s.jsx(as,{className:"w-4 h-4"}),s.jsx("span",{children:"Stop Listening"})]}),s.jsxs(B.div,{className:"flex items-center space-x-2 text-cyan-400",animate:{opacity:[1,.5,1]},transition:{duration:1,repeat:1/0},children:[s.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Listening..."})]})]}):s.jsxs("button",{onClick:w,disabled:r,className:"btn-primary flex items-center space-x-2",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Voice Input"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:(o||l)&&s.jsxs("button",{onClick:C,className:"btn-secondary text-xs flex items-center space-x-1",children:[s.jsx(Mn,{className:"w-3 h-3"}),s.jsx("span",{children:"Clear"})]})})]})]}),s.jsx(Le,{children:v&&s.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-800/50 rounded-xl p-4 border border-cyan-500/30",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-200 flex items-center space-x-2",children:[s.jsx(ia,{className:"w-4 h-4"}),s.jsx("span",{children:"Voice Input Settings"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-2",children:"Language"}),s.jsx("select",{value:g,onChange:S=>h(S.target.value),className:"input-field text-sm w-full",children:m().map(S=>{const[I,O]=S.split("-"),F={en:"English",es:"Spanish",fr:"French",de:"German",it:"Italian",pt:"Portuguese",ja:"Japanese",ko:"Korean",zh:"Chinese",ru:"Russian",ar:"Arabic",hi:"Hindi",nl:"Dutch"},U={US:"United States",GB:"United Kingdom",AU:"Australia",CA:"Canada",ES:"Spain",MX:"Mexico",FR:"France",DE:"Germany",IT:"Italy",BR:"Brazil",PT:"Portugal",JP:"Japan",KR:"South Korea",CN:"China",TW:"Taiwan",RU:"Russia",SA:"Saudi Arabia",IN:"India",NL:"Netherlands"};return s.jsxs("option",{value:S,children:[F[I]||I," (",U[O]||O,")"]},S)})})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsxs("p",{children:["💡 ",s.jsx("strong",{children:"Tips for better recognition:"})]}),s.jsxs("ul",{className:"mt-1 space-y-1",children:[s.jsx("li",{children:"• Speak clearly and at a normal pace"}),s.jsx("li",{children:"• Minimize background noise"}),s.jsx("li",{children:`• Use natural language like "I need to go to the gym and prepare for tomorrow's meeting"`}),s.jsx("li",{children:"• The system will automatically convert your speech to structured tasks"})]})]})]})})}),l&&!o&&s.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-cyan-500/10 border border-cyan-500/30",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:"Listening..."})]}),s.jsxs("p",{className:"text-sm text-gray-300 italic",children:['"',l,'"']})]})]}):s.jsxs("div",{className:`p-4 rounded-xl bg-yellow-500/10 border border-yellow-500/30 ${n}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rs,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-sm text-yellow-400 font-medium",children:"Voice Input Not Supported"})]}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Speech recognition is not supported in your browser. Try using Chrome, Safari, or Edge."})]})}function I0({onClose:e,scheduledDate:t,enableTTS:r=!0}){const[n,a]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState([]),[d,u]=y.useState(new Set),[p,f]=y.useState(t||R(new Date,"yyyy-MM-dd")),[m,g]=y.useState(r),[h,v]=y.useState(!0),[x,w]=y.useState(""),[j,C]=y.useState(1),[D,b]=y.useState("text"),S=ra(),{speak:I}=Wa(),O=ut({mutationFn:async T=>{console.log("AITextAnalyzer - Adding tasks with dates:",T);const k=T.map(P=>Re.addTask({title:P.title,type:P.type,category:P.category,duration:P.estimatedDuration,startTime:P.startTime,repeat:P.type==="habit"?"daily":"none",scheduledDate:P.scheduledDate}));return Promise.all(k)},onSuccess:T=>{S.invalidateQueries({queryKey:["tasks"]});const k=T.reduce((q,G)=>{const he=G.scheduledDate||"unknown";return q[he]||(q[he]=[]),q[he].push(G.title),q},{}),P=Object.entries(k).map(([q,G])=>{const he=q===R(new Date,"yyyy-MM-dd")?"today":q===R(Z(new Date,1),"yyyy-MM-dd")?"tomorrow":R(new Date(q),"MMM d");return`${G.length} task${G.length>1?"s":""} for ${he}`}).join(", ");W.success(`Added ${T.length} task${T.length>1?"s":""} successfully! (${P}) 🚀`),c([]),a(""),u(new Set),e==null||e()},onError:()=>{W.error("Failed to add tasks")}}),F=T=>{if(T.length===0)return"";const k=T.length,P=[...new Set(T.map(te=>te.category))],q=T.reduce((te,oe)=>te+oe.estimatedDuration,0),G=T.reduce((te,oe)=>{const be=oe.scheduledDate;return te[be]||(te[be]=[]),te[be].push(oe),te},{}),he=Object.entries(G).map(([te,oe])=>{const be=te===R(new Date,"yyyy-MM-dd")?"today":te===R(Z(new Date,1),"yyyy-MM-dd")?"tomorrow":R(new Date(te),"EEEE, MMMM d"),it=oe.map(He=>`${He.title} at ${He.startTime||"flexible time"}`).join(", ");return`${oe.length} task${oe.length>1?"s":""} for ${be}: ${it}`}).join(". ");return`I've analyzed your input and created ${k} tasks across ${Object.keys(G).length} day${Object.keys(G).length>1?"s":""}. 
      The plan includes ${P.join(", ")} activities totaling ${q} minutes. 
      ${he}. 
      Would you like me to add these to your schedule?`},U=T=>{const k=T.scheduledDate===R(new Date,"yyyy-MM-dd")?"today":T.scheduledDate===R(Z(new Date,1),"yyyy-MM-dd")?"tomorrow":R(new Date(T.scheduledDate),"EEEE, MMMM d"),P=`${T.title}. This is a ${T.priority} priority ${T.category} task. 
      Estimated duration: ${T.estimatedDuration} minutes. 
      Scheduled for ${k} ${T.startTime?`at ${T.startTime}`:"with flexible timing"}.`;I(P,{voice:x,rate:j})},ne=()=>{const T=F(l);T&&I(T,{voice:x,rate:j})},se=()=>{I("Hello! I'm your AI productivity assistant. I can help you plan tasks for today, tomorrow, or any future date.",{voice:x,rate:j})},_=T=>{a(T)},z=async T=>{var he,te,oe;const k=localStorage.getItem("openai_api_key");if(!k)throw new Error("OpenAI API key not configured");const P=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:`Convert user input into actionable tasks with smart date scheduling. Respond ONLY with a valid JSON array.

Required fields for each task:
- title: Clear, specific task name
- category: "health", "work", "personal", or "fitness"
- estimatedDuration: Time in minutes
- priority: "high", "medium", or "low"
- type: "habit" for daily activities, "task" for one-time
- startTime: "HH:MM" format (24-hour) or null for flexible
- scheduledDate: "YYYY-MM-DD" format

SMART DATE SCHEDULING RULES:
- If user mentions "today" or "now" → use today's date
- If user mentions "tomorrow" → use tomorrow's date
- If user mentions "this weekend" → use next Saturday
- If user mentions "next week" → use next Monday
- If user mentions "morning" → schedule for today if before 12pm, tomorrow if after
- If user mentions "evening" or "tonight" → schedule for today
- If user mentions specific days (Monday, Tuesday, etc.) → use the next occurrence
- If no time context → use today's date as default
- For habits → always use today's date
- For work tasks → prefer weekdays
- For personal tasks → can be any day

Today's date: ${R(new Date,"yyyy-MM-dd")}
Tomorrow's date: ${R(Z(new Date,1),"yyyy-MM-dd")}
Current time: ${R(new Date,"HH:mm")}

Example input: "I want to go to the gym tomorrow morning and prepare for Monday's meeting"
Example output:
[
  {
    "title": "Gym workout",
    "category": "fitness",
    "estimatedDuration": 60,
    "priority": "high",
    "type": "task",
    "startTime": "07:00",
    "scheduledDate": "${R(Z(new Date,1),"yyyy-MM-dd")}"
  },
  {
    "title": "Prepare for meeting",
    "category": "work",
    "estimatedDuration": 45,
    "priority": "high",
    "type": "task",
    "startTime": "09:00",
    "scheduledDate": "${R(Z(new Date,1),"yyyy-MM-dd")}"
  }
]`},{role:"user",content:T}],temperature:.7,max_tokens:1500})});if(!P.ok){const be=await P.json().catch(()=>({}));throw new Error(`OpenAI API error: ${P.statusText} - ${((he=be.error)==null?void 0:he.message)||"Unknown error"}`)}const G=(oe=(te=(await P.json()).choices[0])==null?void 0:te.message)==null?void 0:oe.content;if(!G)throw new Error("No response from OpenAI");try{const be=G.match(/\[[\s\S]*\]/),it=be?be[0]:G,He=JSON.parse(it);if(!Array.isArray(He))throw new Error("Response is not an array");return He.map((qe,st)=>({id:`ai-task-${st}-${Date.now()}`,title:qe.title||"Untitled Task",category:qe.category||"personal",estimatedDuration:qe.estimatedDuration||30,priority:qe.priority||"medium",type:qe.type||"task",startTime:qe.startTime,scheduledDate:qe.scheduledDate||p}))}catch{throw console.error("Failed to parse OpenAI response:",G),new Error("Failed to parse AI response - please try again")}},X=async()=>{if(!n.trim()){W.error("Please enter some text to analyze");return}o(!0);try{if(localStorage.getItem("openai_api_key")){W.loading("Analyzing with OpenAI...",{id:"ai-analysis"});const k=await z(n);c(k),u(new Set(k.map(P=>P.id))),W.success("AI analysis complete! 🧠",{id:"ai-analysis"}),m&&h&&setTimeout(()=>{const P=F(k);I(P,{voice:x,rate:j})},1e3)}else{W.loading("Analyzing...",{id:"ai-analysis"}),await new Promise(P=>setTimeout(P,2e3));const k=ge(n);c(k),u(new Set(k.map(P=>P.id))),W.success("Analysis complete! (Add OpenAI key for enhanced AI)",{id:"ai-analysis"}),m&&h&&setTimeout(()=>{const P=F(k);I(P,{voice:x,rate:j})},1e3)}}catch(T){console.error("AI Analysis error:",T),W.error(T instanceof Error?T.message:"Failed to analyze text",{id:"ai-analysis"});const k=ge(n);c(k),u(new Set(k.map(P=>P.id))),m&&h&&setTimeout(()=>{const P=F(k);I(P,{voice:x,rate:j})},1e3)}finally{o(!1)}},ge=T=>{const k=[],P=T.toLowerCase(),q=G=>{const he=R(new Date,"yyyy-MM-dd"),te=R(Z(new Date,1),"yyyy-MM-dd"),oe=R(Z(new Date,6-new Date().getDay()),"yyyy-MM-dd");return G.includes("tomorrow")||G.includes("next day")?te:G.includes("weekend")||G.includes("saturday")||G.includes("sunday")?oe:G.includes("next week")||G.includes("monday")?R(Z(new Date,7),"yyyy-MM-dd"):G.includes("today")||G.includes("now")?he:G.includes("morning")&&new Date().getHours()>12?te:G.includes("evening")||G.includes("tonight")?he:p};return(P.includes("workout")||P.includes("exercise")||P.includes("gym"))&&k.push({id:"workout-1",title:"Complete workout session",category:"fitness",estimatedDuration:60,priority:"high",type:"habit",startTime:"07:00",scheduledDate:q(P)}),(P.includes("meeting")||P.includes("call")||P.includes("presentation"))&&k.push({id:"work-1",title:"Prepare for meeting",category:"work",estimatedDuration:30,priority:"high",type:"task",startTime:"09:00",scheduledDate:q(P)}),(P.includes("read")||P.includes("book")||P.includes("study"))&&k.push({id:"personal-1",title:"Reading session",category:"personal",estimatedDuration:30,priority:"medium",type:"habit",startTime:"20:00",scheduledDate:q(P)}),(P.includes("meditat")||P.includes("mindful")||P.includes("relax"))&&k.push({id:"health-1",title:"Meditation practice",category:"health",estimatedDuration:15,priority:"medium",type:"habit",startTime:"06:30",scheduledDate:q(P)}),(P.includes("shop")||P.includes("grocery")||P.includes("buy"))&&k.push({id:"personal-2",title:"Grocery shopping",category:"personal",estimatedDuration:45,priority:"medium",type:"task",startTime:"14:00",scheduledDate:q(P)}),k.length===0&&k.push({id:"generic-1",title:T.slice(0,50)+(T.length>50?"...":""),category:"personal",estimatedDuration:30,priority:"medium",type:"task",scheduledDate:q(P)}),k},Ee=T=>{const k=new Set(d);k.has(T)?k.delete(T):k.add(T),u(k)},Ie=(T,k)=>{c(P=>P.map(q=>q.id===T?{...q,scheduledDate:k}:q))},A=()=>{const T=l.filter(k=>d.has(k.id)).map(({id:k,priority:P,...q})=>q);if(T.length===0){W.error("Please select at least one task");return}O.mutate(T)},K=T=>{switch(T){case"high":return"text-red-400 bg-red-500/20 border-red-500/30";case"medium":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"low":return"text-green-400 bg-green-500/20 border-green-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},ie=T=>{const k={health:"bg-green-500/20 text-green-400 border-green-500/30",work:"bg-blue-500/20 text-blue-400 border-blue-500/30",personal:"bg-purple-500/20 text-purple-400 border-purple-500/30",fitness:"bg-orange-500/20 text-orange-400 border-orange-500/30"};return k[T]||k.personal},Ve=T=>{const k=R(new Date,"yyyy-MM-dd"),P=R(Z(new Date,1),"yyyy-MM-dd");return T===k?"Today":T===P?"Tomorrow":R(new Date(T),"MMM d")},xt=T=>{const k=R(new Date,"yyyy-MM-dd"),P=R(Z(new Date,1),"yyyy-MM-dd");return T===k?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30":T===P?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"},Ae=!!localStorage.getItem("openai_api_key"),at=[{label:"Today",value:R(new Date,"yyyy-MM-dd")},{label:"Tomorrow",value:R(Z(new Date,1),"yyyy-MM-dd")},{label:"This Weekend",value:R(Z(new Date,6-new Date().getDay()),"yyyy-MM-dd")},{label:"Next Week",value:R(Z(new Date,7),"yyyy-MM-dd")}];return s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"card ai-glow max-w-4xl mx-auto max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center animate-float",children:s.jsx(le,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-100 neon-text",children:"AI Task Analyzer"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-gray-300 text-sm",children:"Transform your thoughts into structured tasks"}),Ae?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-green-400",children:"AI Enhanced"})]}):s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx("span",{className:"text-xs text-yellow-400",children:"Basic Mode"})})]})]})]}),e&&s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-700 transition-colors text-gray-400 hover:text-gray-200",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 pb-32 md:pb-20",children:[s.jsx(D0,{ttsEnabled:m,onTTSEnabledChange:g,selectedVoice:x,onVoiceChange:w,autoSpeakResults:h,onAutoSpeakChange:v,rate:j,onRateChange:C,onTestVoice:se}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-cyan-500/30",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(et,{className:"w-4 h-4 text-cyan-400"}),s.jsx("h4",{className:"text-sm font-medium text-gray-200",children:"Default Schedule Date"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:at.map(T=>s.jsx("button",{onClick:()=>f(T.value),className:`p-2 rounded-lg border text-xs transition-all duration-300 ${p===T.value?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-gray-600 hover:border-gray-500 text-gray-300 bg-gray-800/50"}`,children:T.label},T.value))}),s.jsx("input",{type:"date",value:p,onChange:T=>f(T.target.value),className:"input-field text-sm w-full",min:R(new Date,"yyyy-MM-dd")}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Tasks will be scheduled for this date unless specified otherwise in your input"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>b("text"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${D==="text"?"bg-cyan-500 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"✏️"}),s.jsx("span",{children:"Type"})]})}),s.jsx("button",{onClick:()=>b("voice"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${D==="voice"?"bg-cyan-500 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"🎤"}),s.jsx("span",{children:"Speak"})]})})]}),!Ae&&s.jsxs("div",{className:"p-4 rounded-xl bg-yellow-500/10 border border-yellow-500/30",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-sm text-yellow-400 font-medium",children:"Enhanced AI Available"})}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Add your OpenAI API key in Settings for more intelligent task analysis and smart date scheduling"})]}),s.jsxs("div",{className:"space-y-4",children:[D==="text"?s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:n,onChange:T=>a(T.target.value),placeholder:`Describe what you want to accomplish... 

Examples:
• 'I need to prepare for tomorrow's presentation, go to the gym, and buy groceries'
• 'Start a morning routine with meditation and reading for next week'
• 'Plan a productive work day with meetings and focused coding time'
• 'I want to have a testosterone-boosting day with surf session and a date tonight'
• 'Schedule gym sessions for this weekend and meal prep for Monday'`,className:"input-field min-h-32 resize-none holographic text-gray-100 placeholder-gray-400",disabled:i,maxLength:500}),s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[n.length,"/500"]}),s.jsx(re,{className:"w-4 h-4 text-cyan-400 animate-neon-flicker"})]})]}):s.jsx(E0,{onTranscriptChange:_,placeholder:"Speak to describe your tasks...",disabled:i}),s.jsx("button",{onClick:X,disabled:i||!n.trim(),className:"btn-primary w-full flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),s.jsx("span",{className:"text-white",children:Ae?"Analyzing with OpenAI...":"Analyzing with AI..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"w-5 h-5"}),s.jsx("span",{className:"text-white",children:D==="voice"?"Analyze Voice Input":"Analyze & Generate Tasks"})]})})]}),s.jsx(Le,{children:l.length>0&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-100 flex items-center space-x-2",children:[s.jsx(re,{className:"w-5 h-5 text-cyan-400"}),s.jsx("span",{children:"AI Generated Tasks"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm text-gray-300",children:[d.size," of ",l.length," selected"]}),s.jsx(C0,{suggestions:l,onSpeakResults:ne})]})]}),s.jsx("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:l.map(T=>s.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`task-suggestion cursor-pointer ${d.has(T.id)?"ring-2 ring-cyan-400":""}`,onClick:()=>Ee(T.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${d.has(T.id)?"bg-cyan-500 border-cyan-500":"border-gray-500 hover:border-cyan-400"}`,children:d.has(T.id)&&s.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},className:"w-2 h-2 bg-white rounded-full"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-100 mb-2",children:T.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${ie(T.category)}`,children:T.category}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${K(T.priority)}`,children:[T.priority," priority"]}),s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-500/20 text-gray-400 border border-gray-500/30",children:[T.estimatedDuration,"min"]}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-purple-500/20 text-purple-400 border border-purple-500/30",children:T.type}),T.startTime&&s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[s.jsx(Xt,{className:"w-3 h-3 inline mr-1"}),T.startTime]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${xt(T.scheduledDate)}`,children:[s.jsx(et,{className:"w-3 h-3 inline mr-1"}),Ve(T.scheduledDate)]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Schedule for:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",value:T.scheduledDate,onChange:k=>{k.stopPropagation(),Ie(T.id,k.target.value)},className:"input-field text-xs py-1 px-2 w-auto",min:R(new Date,"yyyy-MM-dd"),onClick:k=>k.stopPropagation()}),s.jsx("div",{className:"flex space-x-1",children:at.slice(0,2).map(k=>s.jsx("button",{onClick:P=>{P.stopPropagation(),Ie(T.id,k.value)},className:`px-2 py-1 rounded text-xs transition-all ${T.scheduledDate===k.value?"bg-cyan-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:k.label},k.value))})]})]}),m&&s.jsx("button",{onClick:k=>{k.stopPropagation(),U(T)},className:"text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:"🔊 Speak details"})]})]})},T.id))})]})})]}),l.length>0&&s.jsx("div",{className:"fixed bottom-32 left-0 right-0 p-4 bg-gray-900/95 backdrop-blur-xl border-t border-gray-700/50 z-30 md:static md:bg-transparent md:backdrop-blur-none md:border-t-0 md:p-0 md:z-auto",children:s.jsxs("button",{onClick:A,disabled:d.size===0||O.isPending,className:"btn-primary w-full flex items-center justify-center space-x-2",children:[s.jsx(na,{className:"w-4 h-4"}),s.jsxs("span",{children:["Add Selected Tasks (",d.size,")"]})]})})]})}function nl(){const[e,t]=y.useState({granted:!1,denied:!1,default:!0});y.useEffect(()=>{if("Notification"in window){const i=Notification.permission;t({granted:i==="granted",denied:i==="denied",default:i==="default"})}},[]);const r=async()=>{if("Notification"in window&&e.default){const i=await Notification.requestPermission();return t({granted:i==="granted",denied:i==="denied",default:i==="default"}),i==="granted"}return!1},n=(i,o)=>{e.granted&&"Notification"in window&&new Notification(i,{icon:"/vite.svg",badge:"/vite.svg",...o})};return{permission:e,requestPermission:r,showNotification:n,scheduleReminder:(i,o,l)=>{setTimeout(()=>{n(i,{body:o,tag:"task-reminder"})},l)}}}function $t(e){return Fp(e)?"Today":$p(e)?"Tomorrow":Up(e)?"Yesterday":R(e,"MMM d")}function A0(e=new Date){const t=wu(e,{weekStartsOn:1});return Array.from({length:7},(r,n)=>Z(t,n))}function P0({isOpen:e,onClose:t}){const[r,n]=y.useState(""),[a,i]=y.useState(""),[o,l]=y.useState(!1),[c,d]=y.useState(""),{data:u=[]}=Nt({queryKey:["tasks",R(new Date,"yyyy-MM-dd")],queryFn:()=>Re.getTasks(R(new Date,"yyyy-MM-dd")),enabled:e}),p=(h,v)=>{var w,j,C;const x=h.toLowerCase();if(x.includes("done")||x.includes("complete")||x.includes("finish")){const D=v.filter(S=>S.completed),b=v.filter(S=>!S.completed);if(x.includes("now")||x.includes("urgent")||x.includes("priority")){const S=b.filter(I=>{if(!I.startTime)return!1;const O=new Date(`2000-01-01T${I.startTime}`),F=new Date,U=O.getHours()*60+O.getMinutes(),ne=F.getHours()*60+F.getMinutes();return Math.abs(U-ne)<=60});return S.length>0?`🚨 **Urgent Tasks Right Now:**

${S.map(I=>`• **${I.title}** (${I.category}) - Scheduled for ${I.startTime||"flexible time"}`).join(`
`)}

💡 **Recommendation:** Focus on these time-sensitive tasks first. You can tackle them in ${S.reduce((I,O)=>I+(O.duration||30),0)} minutes total.`:`✅ **No urgent tasks right now!** Here's what you can work on next:

${b.slice(0,3).map(O=>`• **${O.title}** (${O.category}) - ${O.duration||30} minutes`).join(`
`)}

🎯 **Tip:** Pick the one that matches your current energy level!`}return`📊 **Task Completion Status:**

✅ **Completed:** ${D.length} tasks
⏳ **Remaining:** ${b.length} tasks
📈 **Progress:** ${Math.round(D.length/v.length*100)}%

${b.length>0?`🎯 **Next up:** ${((w=b[0])==null?void 0:w.title)||"No pending tasks"}`:"🎉 **Amazing! All tasks completed!**"}`}if(x.includes("time")||x.includes("schedule")||x.includes("when")){const D=v.filter(S=>S.startTime&&!S.completed);if(D.length===0)return`⏰ **Schedule Analysis:**

You have ${v.filter(S=>!S.completed).length} unscheduled tasks. Consider adding time blocks to:

${v.filter(S=>!S.completed&&!S.startTime).slice(0,3).map(S=>`• ${S.title} (${S.duration||30} min)`).join(`
`)}

💡 **Tip:** Time-blocking increases productivity by 25%!`;const b=D.sort((S,I)=>S.startTime.localeCompare(I.startTime));return`📅 **Your Schedule:**

${b.map(S=>`${S.startTime} - **${S.title}** (${S.duration||30} min)`).join(`
`)}

⚡ **Total scheduled time:** ${b.reduce((S,I)=>S+(I.duration||30),0)} minutes`}if(x.includes("category")||x.includes("type")||x.includes("health")||x.includes("work")||x.includes("fitness")){const D=v.reduce((b,S)=>(b[S.category]||(b[S.category]={total:0,completed:0}),b[S.category].total++,S.completed&&b[S.category].completed++,b),{});return`📊 **Category Breakdown:**

${Object.entries(D).map(([b,S])=>`**${b.charAt(0).toUpperCase()+b.slice(1)}:** ${S.completed}/${S.total} (${Math.round(S.completed/S.total*100)}%)`).join(`
`)}

🎯 **Focus Area:** ${((j=Object.entries(D).sort(([,b],[,S])=>b.completed/b.total-S.completed/S.total)[0])==null?void 0:j[0])||"All balanced!"}`}if(x.includes("productive")||x.includes("motivation")||x.includes("energy")){const D=v.length>0?v.filter(b=>b.completed).length/v.length*100:0;return D>=80?`🚀 **You're crushing it!** ${Math.round(D)}% completion rate!

🌟 **Momentum Tips:**
• Celebrate this win - you've earned it!
• Consider adding a challenging stretch goal
• Share your success with someone

💪 **You're in the zone - keep the energy flowing!**`:D>=50?`⚡ **Solid progress!** You're at ${Math.round(D)}% completion.

🎯 **Boost Strategies:**
• Try the 2-minute rule for quick wins
• Take a 5-minute energizing break
• Tackle your easiest remaining task first

🔥 **You're building great momentum!**`:`💪 **Fresh start energy!** Every expert was once a beginner.

🌱 **Gentle Restart:**
• Pick just ONE small task to begin
• Set a 15-minute timer and start
• Remember: progress > perfection

✨ **You've got this - one step at a time!**`}if(x.includes("habit")||x.includes("routine")||x.includes("daily")){const D=v.filter(S=>S.type==="habit"),b=D.filter(S=>S.completed);return`🔄 **Habit Tracking:**

📈 **Today's Habits:** ${b.length}/${D.length} completed

${D.map(S=>`${S.completed?"✅":"⏳"} **${S.title}** (${S.category})`).join(`
`)}

💡 **Habit Tip:** ${D.length>b.length?"Stack your next habit with something you already do!":"Perfect habit day! Consider adding one new micro-habit."}`}return`🤖 **AI Analysis:**

Based on your ${v.length} tasks, here's what I see:

📊 **Quick Stats:**
• ${v.filter(D=>D.completed).length} completed, ${v.filter(D=>!D.completed).length} remaining
• ${v.filter(D=>D.type==="habit").length} habits, ${v.filter(D=>D.type==="task").length} tasks
• ${Object.keys(v.reduce((D,b)=>({...D,[b.category]:!0}),{})).length} different categories

💡 **Smart Suggestion:** ${v.filter(D=>!D.completed).length>0?`Focus on "${(C=v.filter(D=>!D.completed)[0])==null?void 0:C.title}" next - it's your top priority!`:"All done! Time to plan tomorrow or take a well-deserved break! 🎉"}`},f=async()=>{var h,v;if(r.trim()){l(!0),d(""),i("");try{const x=localStorage.getItem("openai_api_key");if(x){const w=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are a helpful AI productivity assistant for HealthyFlow. Analyze the user's tasks and provide actionable, encouraging advice. Be concise but insightful. Use emojis and formatting to make responses engaging. Focus on productivity, time management, and motivation.

Current user tasks: ${JSON.stringify(u,null,2)}

Provide specific, actionable advice based on their actual tasks and schedule.`},{role:"user",content:r}],temperature:.7,max_tokens:300})});if(!w.ok)throw new Error("OpenAI API request failed");const j=await w.json();i(((v=(h=j.choices[0])==null?void 0:h.message)==null?void 0:v.content)||"No response generated.")}else{const w=p(r,u);i(w)}}catch(x){console.error("AI Analysis error:",x);const w=p(r,u);i(w)}finally{l(!1)}}},m=["What should I focus on right now?","How am I doing with my habits today?","What's my most urgent task?","How can I be more productive?","What's my completion rate today?"],g=h=>{n(h)};return s.jsx(Le,{children:e&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),s.jsxs(B.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative card ai-glow w-full max-w-lg mx-4 max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(re,{className:"w-4 h-4 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100 neon-text",children:"Ask AI About Your Tasks"})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-700 transition-colors text-gray-400 hover:text-gray-200",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pb-20",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Quick Questions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((h,v)=>s.jsx("button",{onClick:()=>g(h),className:"text-xs px-3 py-1 rounded-full bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-cyan-400 transition-colors",children:h},v))})]}),s.jsxs("div",{children:[s.jsx("textarea",{value:r,onChange:h=>n(h.target.value),placeholder:"Ask anything about your tasks, productivity, or schedule...",className:"input-field min-h-24 resize-none w-full text-gray-100 placeholder-gray-400",disabled:o,maxLength:300,onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),f())}}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[r.length,"/300"]}),s.jsx("button",{onClick:f,disabled:o||!r.trim(),className:"btn-primary text-sm flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"w-4 h-4"}),"Ask"]})})]})]}),c&&s.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:c}),a&&s.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/30",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(le,{className:"w-3 h-3 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"text-sm text-gray-200 whitespace-pre-line leading-relaxed",children:a})})]})}),s.jsx("div",{className:"p-3 rounded-lg bg-gray-800/50 border border-gray-700/50",children:s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[s.jsx(le,{className:"w-3 h-3"}),s.jsxs("span",{children:["Analyzing ",u.length," tasks •",u.filter(h=>h.completed).length," completed •",localStorage.getItem("openai_api_key")?"AI Enhanced":"Smart Analysis"]})]})})]}),s.jsx("div",{className:"mt-auto pt-4 border-t border-gray-700/50",children:s.jsx("button",{onClick:t,className:"w-full btn-secondary",children:"Close"})})]})]})})}function k0(){const[e,t]=y.useState(new Date),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(!1),[u,p]=y.useState(window.innerWidth<768),f=ra(),{showNotification:m}=nl(),g=Zi();y.useEffect(()=>{new URLSearchParams(g.search).get("ai")==="true"&&(l(!0),window.history.replaceState({},document.title,window.location.pathname))},[g]),y.useEffect(()=>{const A=()=>{p(window.innerWidth<768)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const h="navigator"in window&&"vibrate"in navigator,{data:v=[],isLoading:x}=Nt({queryKey:["tasks",R(e,"yyyy-MM-dd")],queryFn:()=>Re.getTasks(R(e,"yyyy-MM-dd"))}),w=ut({mutationFn:Re.completeTask,onSuccess:A=>{f.invalidateQueries({queryKey:["tasks"]}),i(!0),h&&navigator.vibrate([100,50,100]),m("Task Completed! 🚀",{body:`Excellent work completing "${A.title}"!`,tag:"task-completion"}),W.success("Task completed! 🚀")}}),j=ut({mutationFn:async A=>Re.updateTask(A,{completed:!1}),onSuccess:A=>{f.invalidateQueries({queryKey:["tasks"]}),W.success(`"${A.title}" marked as incomplete`)},onError:()=>{W.error("Failed to update task")}}),C=ut({mutationFn:({id:A,updates:K})=>Re.updateTask(A,K),onSuccess:()=>{f.invalidateQueries({queryKey:["tasks"]}),W.success("Task updated successfully!")}}),D=ut({mutationFn:async A=>{for(let K=0;K<A.length;K++)await Re.updateTask(A[K].id,{...A[K]});return A},onSuccess:()=>{f.invalidateQueries({queryKey:["tasks"]})}}),b=ut({mutationFn:Re.deleteTask,onSuccess:()=>{f.invalidateQueries({queryKey:["tasks"]}),W.success("Task deleted"),h&&navigator.vibrate(200)}}),S=A=>{w.mutate(A)},I=A=>{j.mutate(A)},O=A=>{f.setQueryData(["tasks",R(e,"yyyy-MM-dd")],A),D.mutate(A)},F=A=>{n(A)},U=(A,K)=>{C.mutate({id:A,updates:K}),n(null)},ne=A=>{confirm("Are you sure you want to delete this task?")&&b.mutate(A)},se=()=>{t(A=>Ls(A,1))},_=()=>{t(A=>Z(A,1))},z=()=>{t(new Date)},X=v.filter(A=>A.type==="habit"),ge=X.filter(A=>A.completed),Ee=v.reduce((A,K)=>(A[K.category]||(A[K.category]={total:0,completed:0}),A[K.category].total++,K.completed&&A[K.category].completed++,A),{}),Ie=async()=>{const A=R(e,"yyyy-MM-dd"),ie=A===R(new Date,"yyyy-MM-dd")?"today":$t(e).toLowerCase();if(confirm(`Are you sure you want to delete all tasks for ${ie}? This cannot be undone.`))try{await fe.delete("/tasks",{params:{date:A}}),f.invalidateQueries({queryKey:["tasks"]}),W.success(`All tasks for ${ie} deleted`),h&&navigator.vibrate([100,50,100,50,100])}catch{W.error(`Failed to delete ${ie}'s tasks`)}};return x?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Pt,{size:"lg"})}):s.jsxs("div",{className:"space-y-4 md:space-y-6 pb-28 md:pb-0",children:[s.jsx(j0,{}),s.jsx(S0,{show:a,onComplete:()=>i(!1)}),s.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:se,className:"p-2 md:p-3 rounded-xl hover:bg-gray-800/50 transition-all duration-300 text-gray-400 hover:text-cyan-400 hover:shadow-lg hover:shadow-cyan-500/20","aria-label":"Previous day",children:s.jsx(Dl,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-100 neon-text",children:$t(e)}),s.jsx("button",{onClick:_,className:"p-2 md:p-3 rounded-xl hover:bg-gray-800/50 transition-all duration-300 text-gray-400 hover:text-cyan-400 hover:shadow-lg hover:shadow-cyan-500/20","aria-label":"Next day",children:s.jsx(Cl,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("p",{className:"text-sm md:text-base text-gray-400",children:R(e,"EEEE, MMMM d, yyyy")}),!R(e,"yyyy-MM-dd").includes(R(new Date,"yyyy-MM-dd"))&&s.jsx("button",{onClick:z,className:"text-xs md:text-sm text-cyan-400 hover:text-cyan-300 font-medium transition-colors",children:"Go to Today"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("span",{className:"text-xs md:text-sm text-gray-500",children:[v.length," tasks • ",v.filter(A=>A.completed).length," completed"]}),s.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"})]})]})}),s.jsxs("div",{className:`flex ${u?"flex-wrap gap-2":"items-center space-x-3"}`,children:[s.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:`btn-primary flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 ${u?"text-sm py-2 px-3":""}`,children:[s.jsx(le,{className:"w-4 h-4"}),s.jsx("span",{children:u?"AI":"AI Analyzer"}),s.jsx(re,{className:"w-4 h-4 animate-neon-flicker"})]}),s.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!0),className:`btn-secondary flex items-center space-x-2 ${u?"text-sm py-2 px-3":""}`,children:[s.jsx(re,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:u?"Ask":"Ask AI"})]}),!u&&s.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:"btn-secondary flex items-center space-x-2 text-red-400 border-red-400 hover:bg-red-500/10",children:[s.jsx("span",{children:"🗑️"}),s.jsxs("span",{children:["Clear ",$t(e)]})]}),s.jsxs(Ut,{to:"/add",className:`btn-primary flex items-center space-x-2 ${u?"text-sm py-2 px-3":""}`,children:[s.jsx(na,{className:"w-4 h-4"}),s.jsx("span",{children:u?"Add":"Add Task"})]}),s.jsxs(Ut,{to:"/week",className:`btn-secondary flex items-center space-x-2 ${u?"text-sm py-2 px-3":""}`,children:[s.jsx(et,{className:"w-4 h-4"}),s.jsx("span",{children:u?"Week":"Week View"})]})]})]}),s.jsx(Le,{children:o&&s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:s.jsx("div",{onClick:A=>A.stopPropagation(),className:"w-full max-w-4xl",children:s.jsx(I0,{onClose:()=>l(!1),scheduledDate:R(e,"yyyy-MM-dd")})})})}),s.jsx(P0,{isOpen:c,onClose:()=>d(!1)}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[s.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2",children:s.jsx(b0,{tasks:v,onTasksReorder:O,onCompleteTask:S,onUncompleteTask:I,onEditTask:F,onDeleteTask:ne})}),s.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"card holographic",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:s.jsx(re,{className:"w-4 h-4 text-white"})}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-100",children:[$t(e)," Progress"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Zn,{title:"Overall Progress",completed:ge.length,total:X.length,color:"bg-gradient-to-r from-cyan-500 to-blue-600"}),Object.entries(Ee).map(([A,K])=>s.jsx(Zn,{title:A.charAt(0).toUpperCase()+A.slice(1),completed:K.completed,total:K.total,color:A==="health"?"bg-gradient-to-r from-green-500 to-emerald-600":A==="work"?"bg-gradient-to-r from-blue-500 to-indigo-600":A==="fitness"?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gradient-to-r from-purple-500 to-pink-600"},A))]})]}),s.jsx(w0,{})]})]}),s.jsx(N0,{task:r,isOpen:!!r,onClose:()=>n(null),onSave:U}),u&&s.jsx("div",{className:"fixed bottom-28 right-4 z-20",children:s.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:"btn-secondary flex items-center space-x-2 text-red-400 border-red-400 hover:bg-red-500/10 shadow-lg",children:[s.jsx("span",{children:"🗑️"}),s.jsxs("span",{children:["Clear ",$t(e)]})]})})]})}function O0(){const e=dl(),t=ra(),[r,n]=y.useState({title:"",type:"task",category:"personal",startTime:"",duration:30,repeat:"none",scheduledDate:R(new Date,"yyyy-MM-dd")}),a=ut({mutationFn:Re.addTask,onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]}),W.success("Task added successfully!"),e("/")},onError:()=>{W.error("Failed to add task")}}),i=c=>{if(c.preventDefault(),!r.title.trim()){W.error("Please enter a title");return}a.mutate({title:r.title,type:r.type,category:r.category,startTime:r.startTime||void 0,duration:r.duration,repeat:r.repeat,scheduledDate:r.scheduledDate})},o=[{value:"health",label:"Health",color:"bg-green-500/20 text-green-400 border-green-500/30"},{value:"work",label:"Work",color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},{value:"personal",label:"Personal",color:"bg-purple-500/20 text-purple-400 border-purple-500/30"},{value:"fitness",label:"Fitness",color:"bg-orange-500/20 text-orange-400 border-orange-500/30"}],l=[{label:"Today",value:R(new Date,"yyyy-MM-dd")},{label:"Tomorrow",value:R(Z(new Date,1),"yyyy-MM-dd")},{label:"This Weekend",value:R(Z(new Date,6-new Date().getDay()),"yyyy-MM-dd")},{label:"Next Week",value:R(Z(new Date,7),"yyyy-MM-dd")}];return s.jsxs("div",{className:"max-w-2xl mx-auto pb-28 md:pb-0",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>e("/"),className:"p-3 rounded-xl hover:bg-gray-800/50 transition-all duration-300 text-gray-400 hover:text-cyan-400 hover:shadow-lg hover:shadow-cyan-500/20",children:s.jsx(Tl,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(le,{className:"w-4 h-4 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-100 neon-text",children:"Add New Item"})]})]}),s.jsxs("form",{onSubmit:i,className:"card ai-glow space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-200 mb-2",children:"Title *"}),s.jsx("input",{id:"title",type:"text",value:r.title,onChange:c=>n({...r,title:c.target.value}),className:"input-field",placeholder:"e.g., Morning workout, Review project proposal",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>n({...r,type:"task"}),className:`p-4 rounded-xl border-2 text-left transition-all duration-300 ${r.type==="task"?"border-cyan-500 bg-cyan-500/10 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}`,children:[s.jsx("div",{className:"font-medium text-gray-100",children:"Task"}),s.jsx("div",{className:"text-sm text-gray-400",children:"One-time or scheduled activity"})]}),s.jsxs("button",{type:"button",onClick:()=>n({...r,type:"habit"}),className:`p-4 rounded-xl border-2 text-left transition-all duration-300 ${r.type==="habit"?"border-cyan-500 bg-cyan-500/10 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}`,children:[s.jsx("div",{className:"font-medium text-gray-100",children:"Habit"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Recurring daily activity"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:[s.jsx(et,{className:"w-4 h-4 inline mr-1"}),"Schedule For"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:l.map(c=>s.jsx("button",{type:"button",onClick:()=>n({...r,scheduledDate:c.value}),className:`p-3 rounded-xl border-2 text-sm transition-all duration-300 ${r.scheduledDate===c.value?"border-cyan-500 bg-cyan-500/10 text-cyan-400 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 text-gray-300 bg-gray-800/50"}`,children:c.label},c.value))}),s.jsx("input",{type:"date",value:r.scheduledDate,onChange:c=>n({...r,scheduledDate:c.target.value}),className:"input-field",min:R(new Date,"yyyy-MM-dd")})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:[s.jsx(El,{className:"w-4 h-4 inline mr-1"}),"Category"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(c=>s.jsx("button",{type:"button",onClick:()=>n({...r,category:c.value}),className:`p-3 rounded-xl border-2 text-left transition-all duration-300 ${r.category===c.value?"border-cyan-500 bg-cyan-500/10 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}`,children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${c.color}`,children:c.label})},c.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-200 mb-2",children:[s.jsx(Xt,{className:"w-4 h-4 inline mr-1"}),"Start Time"]}),s.jsx("input",{id:"startTime",type:"time",value:r.startTime,onChange:c=>n({...r,startTime:c.target.value}),className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-200 mb-2",children:"Duration (minutes)"}),s.jsx("input",{id:"duration",type:"number",min:"5",max:"480",step:"5",value:r.duration,onChange:c=>n({...r,duration:parseInt(c.target.value)}),className:"input-field"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:[s.jsx(Il,{className:"w-4 h-4 inline mr-1"}),"Repeat"]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"none",label:"No Repeat"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}].map(c=>s.jsx("button",{type:"button",onClick:()=>n({...r,repeat:c.value}),className:`p-3 rounded-xl border-2 text-center transition-all duration-300 ${r.repeat===c.value?"border-cyan-500 bg-cyan-500/10 text-cyan-400 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 text-gray-300 bg-gray-800/50"}`,children:c.label},c.value))})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-700/50",children:[s.jsx("button",{type:"button",onClick:()=>e("/"),className:"btn-secondary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:a.isPending,className:"btn-primary flex items-center space-x-2",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{size:"sm"}),s.jsx("span",{children:"Adding..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Item"})]})})]})]})]})}function R0({data:e}){const t=Math.max(...e.map(r=>r.total),1);return s.jsxs("div",{className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(aa,{className:"w-3 h-3 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Weekly Progress"}),s.jsx(re,{className:"w-4 h-4 text-cyan-400 animate-neon-flicker"})]}),s.jsx("div",{className:"space-y-4",children:e.map((r,n)=>{const a=r.total>0?r.completed/r.total*100:0,i=r.total>0?r.total/t*100:0;return s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx("div",{className:"w-12 text-xs text-gray-400 text-center font-medium",children:R(r.date,"EEE")}),s.jsx("div",{className:"flex-1 relative",children:s.jsxs("div",{className:"flex items-end space-x-1",children:[s.jsxs("div",{className:"relative bg-gray-700/50 rounded-t w-8 border border-gray-600/50",style:{height:`${Math.max(i,20)}px`},children:[s.jsx(B.div,{initial:{height:0},animate:{height:`${a}%`},transition:{delay:n*.1,duration:.5},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-cyan-500 to-blue-600 rounded-t"}),s.jsx(B.div,{initial:{height:0,opacity:0},animate:{height:`${a}%`,opacity:.5},transition:{delay:n*.1,duration:.5},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-cyan-400 to-blue-500 rounded-t blur-sm"})]}),s.jsxs("div",{className:"text-xs text-gray-300 font-medium",children:[r.completed,"/",r.total]})]})}),s.jsxs("div",{className:"w-12 text-xs text-gray-400 text-right font-medium",children:[Math.round(a),"%"]})]},r.date.toISOString())})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gray-700/50",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:"This Week"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-700 rounded border border-gray-600"}),s.jsx("span",{className:"text-gray-400",children:"Total"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-cyan-500 to-blue-600 rounded"}),s.jsx("span",{className:"text-gray-400",children:"Completed"})]})]})]})]})}function M0(){const e=new Date,t=A0(e),{data:r,isLoading:n}=Nt({queryKey:["week-summary"],queryFn:mu.getWeeklySummary}),{data:a=[],isLoading:i}=Nt({queryKey:["tasks",R(e,"yyyy-MM-dd")],queryFn:()=>Re.getTasks(R(e,"yyyy-MM-dd"))}),o=t.map(l=>{const d=zt(l,e)?a:[];return{date:l,completed:d.filter(u=>u.completed).length,total:d.length||Math.floor(Math.random()*5)+2}});return n||i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Pt,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(et,{className:"w-4 h-4 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-100 neon-text",children:"Week Overview"}),s.jsx(re,{className:"w-5 h-5 text-cyan-400 animate-neon-flicker"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card holographic",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(aa,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-100 neon-text",children:[r?Math.round(r.completionRate):0,"%"]})]})]})}),s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card holographic",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:s.jsx(Al,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Tasks Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-100 neon-text",children:(r==null?void 0:r.completedTasks)||0})]})]})}),s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card holographic",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:s.jsx(Pl,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Total Tasks"}),s.jsx("p",{className:"text-2xl font-bold text-gray-100 neon-text",children:(r==null?void 0:r.totalTasks)||0})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:s.jsx(R0,{data:o})}),s.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:s.jsx(et,{className:"w-3 h-3 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"This Week"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:t.map(l=>{const c=zt(l,e),d=c?a:[],u=d.filter(p=>p.completed).length;return s.jsx("div",{className:`p-3 rounded-xl border-2 transition-all duration-300 ${c?"border-cyan-500 bg-cyan-500/10 shadow-lg shadow-cyan-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs font-medium text-gray-400",children:R(l,"EEE")}),s.jsx("p",{className:`text-lg font-bold ${c?"text-cyan-400 neon-text":"text-gray-200"}`,children:R(l,"d")}),(d.length>0||!c)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-gray-400",children:c?`${u}/${d.length}`:`${Math.floor(Math.random()*3)+1}/${Math.floor(Math.random()*2)+3}`}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 mt-1",children:s.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 h-1 rounded-full transition-all",style:{width:c?`${d.length>0?u/d.length*100:0}%`:`${Math.random()*100}%`}})})]})]})},l.toISOString())})})]})]}),r&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:s.jsx(le,{className:"w-3 h-3 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Category Progress"}),s.jsx(re,{className:"w-4 h-4 text-cyan-400 animate-neon-flicker"})]}),s.jsx("div",{className:"space-y-4",children:Object.entries(r.categories).map(([l,c])=>s.jsx(Zn,{title:l.charAt(0).toUpperCase()+l.slice(1),completed:c.completed,total:c.total,color:l==="health"?"bg-gradient-to-r from-green-500 to-emerald-600":l==="work"?"bg-gradient-to-r from-blue-500 to-indigo-600":l==="fitness"?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gradient-to-r from-purple-500 to-pink-600"},l))})]})]})}function B0(){const{user:e}=Kr(),{permission:t,requestPermission:r}=nl(),[n,a]=y.useState({notifications:!0,dailyReminders:!0,weeklyReports:!0,aiSuggestions:!0,calendarSync:!1,smartReminders:!0,completionSounds:!0}),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState({prefix:"",middle:"",suffix:""}),[p,f]=y.useState({openaiApiKey:localStorage.getItem("openai_api_key")||"",enableAI:!!localStorage.getItem("openai_api_key"),aiPersonality:"encouraging"});y.useEffect(()=>{const b=localStorage.getItem("openai_api_key")||"";b&&b.startsWith("sk-")&&u({prefix:b.substring(0,3),middle:b.substring(3,b.length-4),suffix:b.substring(b.length-4)})},[]);const m=(b,S)=>{a(I=>({...I,[b]:S})),W.success("Settings updated")},g=(b,S)=>{f(I=>({...I,[b]:S}))},h=(b,S)=>{u(F=>({...F,[b]:S}));const I={...d,[b]:S},O=I.prefix+I.middle+I.suffix;f(F=>({...F,openaiApiKey:O}))},v=()=>{let b=p.openaiApiKey;(d.prefix||d.middle||d.suffix)&&(b=d.prefix+d.middle+d.suffix),b.trim()?(localStorage.setItem("openai_api_key",b.trim()),f(S=>({...S,enableAI:!0})),W.success("AI settings saved! You can now receive personalized recommendations.")):(localStorage.removeItem("openai_api_key"),f(S=>({...S,enableAI:!1})),W.success("AI settings cleared."))},x=()=>{const b=p.openaiApiKey;b&&navigator.clipboard.writeText(b).then(()=>{c(!0),setTimeout(()=>c(!1),2e3),W.success("API key copied to clipboard")}).catch(()=>{W.error("Failed to copy API key")})},w=async()=>{try{const b=await navigator.clipboard.readText();b.trim().startsWith("sk-")?(f(S=>({...S,openaiApiKey:b.trim()})),b.length>7&&u({prefix:b.substring(0,3),middle:b.substring(3,b.length-4),suffix:b.substring(b.length-4)}),W.success("API key pasted")):W.error("Invalid API key format")}catch{W.error("Failed to paste from clipboard")}},j=async()=>{await r()?W.success("Notifications enabled!"):W.error("Notifications permission denied")},C=async()=>{if(confirm("Are you sure you want to delete ALL your tasks? This cannot be undone."))try{await fe.delete("/tasks"),W.success("All tasks deleted")}catch{W.error("Failed to delete all tasks")}},D=({label:b,description:S,checked:I,onChange:O,disabled:F=!1})=>s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-sm font-medium ${F?"text-gray-500":"text-gray-200"}`,children:b}),s.jsx("p",{className:`text-sm ${F?"text-gray-600":"text-gray-400"}`,children:S})]}),s.jsx("button",{onClick:()=>!F&&O(!I),disabled:F,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${F?"bg-gray-700 cursor-not-allowed":I?"bg-cyan-500":"bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I?"translate-x-6":"translate-x-1"}`})})]});return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-28 md:pb-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center animate-float",children:s.jsx(Fr,{className:"w-4 h-4 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-100 neon-text",children:"Settings"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(kl,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Profile"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"",className:"input-field",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",className:"input-field",readOnly:!0})]})]})]}),s.jsxs("div",{className:"card ai-glow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:s.jsx(le,{className:"w-3 h-3 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"AI Configuration"}),s.jsx(re,{className:"w-4 h-4 text-cyan-400 animate-neon-flicker"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:"OpenAI API Key"}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Add your OpenAI API key to enable personalized AI recommendations and insights. Your key is stored locally and never sent to our servers."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:p.openaiApiKey,onChange:b=>g("openaiApiKey",b.target.value),placeholder:"sk-...",className:"input-field pr-20"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[s.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 rounded-lg hover:bg-gray-700/50 text-gray-400","aria-label":i?"Hide API key":"Show API key",children:i?s.jsx(Ol,{className:"w-4 h-4"}):s.jsx(Rl,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:x,className:"p-2 rounded-lg hover:bg-gray-700/50 text-gray-400","aria-label":"Copy API key",children:l?s.jsx(es,{className:"w-4 h-4 text-green-400"}):s.jsx(Ml,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Mobile-friendly input (enter your key in parts):"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-16",children:s.jsx("input",{type:"text",value:d.prefix,onChange:b=>h("prefix",b.target.value),placeholder:"sk-",className:"input-field text-center",maxLength:3})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:i?"text":"password",value:d.middle,onChange:b=>h("middle",b.target.value),placeholder:"middle part",className:"input-field"})}),s.jsx("div",{className:"w-16",children:s.jsx("input",{type:"text",value:d.suffix,onChange:b=>h("suffix",b.target.value),placeholder:"end",className:"input-field text-center",maxLength:4})})]})]}),s.jsxs("button",{onClick:w,className:"w-full p-3 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300 flex items-center justify-center space-x-2",children:[s.jsx(Rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Paste from Clipboard"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"Get your API key from OpenAI →"}),s.jsxs("button",{onClick:v,className:"btn-primary text-sm flex items-center space-x-2",children:[s.jsx(Bl,{className:"w-4 h-4"}),s.jsx("span",{children:"Save"})]})]})]})]}),p.enableAI&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"AI Personality"}),s.jsxs("select",{value:p.aiPersonality,onChange:b=>g("aiPersonality",b.target.value),className:"input-field",children:[s.jsx("option",{value:"encouraging",children:"Encouraging & Motivational"}),s.jsx("option",{value:"professional",children:"Professional & Direct"}),s.jsx("option",{value:"casual",children:"Casual & Friendly"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-gray-800/50 border border-gray-700/50",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${p.enableAI?"bg-green-400 animate-pulse":"bg-gray-500"}`}),s.jsxs("span",{className:"text-sm text-gray-300",children:["AI Features: ",p.enableAI?"Enhanced Mode":"Basic Mode"]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Bn,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Notifications"})]}),t.default&&s.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rn,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-300",children:"Enable Browser Notifications"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Allow HealthyFlow to send you reminders and updates"})]}),s.jsx("button",{onClick:j,className:"btn-primary text-sm",children:"Enable"})]})}),t.denied&&s.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Bn,{className:"w-5 h-5 text-red-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-300",children:"Notifications Blocked"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Please enable notifications in your browser settings to receive reminders"})]})]})}),s.jsxs("div",{className:"divide-y divide-gray-700/50",children:[s.jsx(D,{label:"Push Notifications",description:"Receive notifications for task reminders and updates",checked:n.notifications,onChange:b=>m("notifications",b),disabled:!t.granted}),s.jsx(D,{label:"Daily Reminders",description:"Get reminded about your daily tasks and habits",checked:n.dailyReminders,onChange:b=>m("dailyReminders",b)}),s.jsx(D,{label:"Smart Reminders",description:"Intelligent reminders based on your schedule and habits",checked:n.smartReminders,onChange:b=>m("smartReminders",b)}),s.jsx(D,{label:"Weekly Reports",description:"Receive weekly progress summaries",checked:n.weeklyReports,onChange:b=>m("weeklyReports",b)})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ll,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Features"})]}),s.jsxs("div",{className:"divide-y divide-gray-700/50",children:[s.jsx(D,{label:"AI Suggestions",description:"Get personalized recommendations based on your habits",checked:n.aiSuggestions,onChange:b=>m("aiSuggestions",b),disabled:!p.enableAI}),s.jsx(D,{label:"Completion Sounds",description:"Play celebratory sounds when completing tasks",checked:n.completionSounds,onChange:b=>m("completionSounds",b)}),s.jsx(D,{label:"Calendar Sync",description:"Sync with Google Calendar (coming soon)",checked:n.calendarSync,onChange:b=>m("calendarSync",b),disabled:!0})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Fl,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Privacy & Security"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{className:"w-full text-left p-3 rounded-lg border border-gray-600 hover:bg-gray-800/50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-200",children:"Export Data"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Download all your data in JSON format"})]}),s.jsxs("button",{onClick:()=>{localStorage.clear(),W.success("Cache cleared successfully")},className:"w-full text-left p-3 rounded-lg border border-gray-600 hover:bg-gray-800/50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-200",children:"Clear Cache"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Clear all locally stored data including API keys"})]}),s.jsxs("button",{onClick:C,className:"w-full text-left p-3 rounded-lg border border-red-500/30 hover:bg-red-500/10 transition-colors",children:[s.jsx("div",{className:"font-medium text-red-400",children:"Clear All Tasks"}),s.jsx("div",{className:"text-sm text-red-300",children:"Delete all your tasks from the database (cannot be undone)"})]}),s.jsxs("button",{className:"w-full text-left p-3 rounded-lg border border-red-500/30 hover:bg-red-500/10 transition-colors",children:[s.jsx("div",{className:"font-medium text-red-400",children:"Delete Account"}),s.jsx("div",{className:"text-sm text-red-300",children:"Permanently delete your account and data"})]})]})]})]})}function L0(){const[e,t]=y.useState("demo@healthyflow.com"),[r,n]=y.useState("demo123"),[a,i]=y.useState(!1),[o,l]=y.useState(!1),{login:c}=Kr();y.useEffect(()=>{const u=window.matchMedia("(display-mode: standalone)").matches,p=window.navigator.standalone===!0;l(u||p)},[]);const d=async u=>{u.preventDefault(),i(!0);try{await c(e,r),"navigator"in window&&"vibrate"in navigator&&navigator.vibrate([100,50,200])}catch{}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-2000"})]}),s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            linear-gradient(rgba(6, 182, 212, 0.3) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6, 182, 212, 0.3) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}})}),s.jsx(B.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:s.jsxs("div",{className:"card ai-glow",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl animate-float",children:s.jsx(le,{className:"w-10 h-10 text-white"})}),s.jsx(re,{className:"absolute -top-2 -right-2 w-6 h-6 text-cyan-400 animate-neon-flicker"}),s.jsx(ts,{className:"absolute -bottom-1 -left-1 w-5 h-5 text-blue-400 animate-pulse"})]}),s.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-100 neon-text mb-2",children:"Welcome to HealthyFlow"}),s.jsx("p",{className:"text-cyan-400 font-medium",children:"AI-Powered Future Planner"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Neural networks ready to optimize your life"})]})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:u=>t(u.target.value),className:"input-field pl-12",placeholder:"Enter your email",required:!0,autoComplete:"email"})]})]}),s.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"password",type:"password",value:r,onChange:u=>n(u.target.value),className:"input-field pl-12",placeholder:"Enter your password",required:!0,autoComplete:"current-password"})]})]}),s.jsx(B.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full btn-primary flex items-center justify-center space-x-2 py-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{size:"sm"}),s.jsx("span",{children:"Connecting to Neural Network..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(le,{className:"w-5 h-5"}),s.jsx("span",{children:o?"Login":"Initialize AI Session"}),s.jsx(re,{className:"w-4 h-4 animate-neon-flicker"})]})})]}),s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-300 font-medium mb-2",children:"🚀 Demo Access Credentials"}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-cyan-400",children:"Email:"})," demo@healthyflow.com"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-cyan-400",children:"Password:"})," demo123"]})]})]})}),o&&s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-4 p-3 rounded-xl bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/30",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(re,{className:"w-4 h-4 text-cyan-400"}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Running as installed app"})]})})]})})]})}function F0(){const[e,t]=y.useState(!navigator.onLine),[r,n]=y.useState(!1),[a,i]=y.useState(!1);return y.useEffect(()=>{const o=()=>{t(!1),r&&(i(!0),setTimeout(()=>i(!1),5e3)),n(!1)},l=()=>{t(!0),n(!0)};return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[r]),{isOffline:e,reconnected:a}}function $0(){const{isOffline:e,reconnected:t}=F0();return s.jsxs(Le,{children:[e&&s.jsxs(B.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-red-500 text-white p-3 flex items-center justify-center",children:[s.jsx(Wl,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"You're offline. Some features may be limited."})]}),t&&s.jsxs(B.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-green-500 text-white p-3 flex items-center justify-center",children:[s.jsx(Hl,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"You're back online! Syncing data..."})]})]})}function U0(){const{user:e,loading:t}=Kr();return y.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("Service Worker registered with scope:",r.scope)}).catch(r=>{console.error("Service Worker registration failed:",r)})})},[]),y.useEffect(()=>{const r=()=>{document.visibilityState==="visible"&&console.log("App is visible again")};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Pt,{size:"lg"})}):e?s.jsxs(s.Fragment,{children:[s.jsx($0,{}),s.jsx(xu,{children:s.jsxs(ul,{children:[s.jsx(kt,{path:"/",element:s.jsx(k0,{})}),s.jsx(kt,{path:"/add",element:s.jsx(O0,{})}),s.jsx(kt,{path:"/week",element:s.jsx(M0,{})}),s.jsx(kt,{path:"/settings",element:s.jsx(B0,{})}),s.jsx(kt,{path:"*",element:s.jsx(pl,{to:"/",replace:!0})})]})})]}):s.jsx(L0,{})}const W0=new sl({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Ln.createRoot(document.getElementById("root")).render(s.jsx(Q.StrictMode,{children:s.jsx(ol,{client:W0,children:s.jsx(fl,{children:s.jsxs(hu,{children:[s.jsx(U0,{}),s.jsx(kc,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}})]})})})}));
